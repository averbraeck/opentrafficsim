<?xml version="1.0" encoding="UTF-8"?>
<NETWORK xmlns="http://www.opentrafficsim.org/ots" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.opentrafficsim.org/ots https://opentrafficsim.org/docs/xsd/1.00.00/ots-network.xsd">

  <DEFINITIONS>

    <GLOBAL />

    <GTUTYPE NAME="CAR" />
    <GTUTYPE NAME="TRUCK" />

    <GTU NAME="CAR" GTUTYPE="CAR" LENGTH="UNIF(4,7) m" WIDTH="UNIF(1.7, 2) m" MAXSPEED="CONST(120) km/h" />
    <GTU NAME="TRUCK" GTUTYPE="TRUCK" LENGTH="UNIF(16,24) m" WIDTH="UNIF(2.2, 2.7) m" MAXSPEED="CONST(100) km/h" />

    <GTUMIX NAME="C60T40">
      <GTU NAME="CAR" WEIGHT="60"></GTU>
      <GTU NAME="TRUCK" WEIGHT="40"></GTU>
    </GTUMIX>

    <GTUMIX NAME="C80T20">
      <GTU NAME="CAR" WEIGHT="80" />
      <GTU NAME="TRUCK" WEIGHT="20" />
    </GTUMIX>

    <ROADTYPE NAME="HIGHWAY" DEFAULTLANEWIDTH="3.6m" DEFAULTLANEKEEPING="KEEPRIGHT"
      DEFAULTOVERTAKING="LEFTSET([CAR, TRUCK] OVERTAKE [ALL]) RIGHTSPEED(40 km/h)">
      <SPEEDLIMIT GTUTYPE="CAR" LEGALSPEEDLIMIT="100km/h" />
      <SPEEDLIMIT GTUTYPE="TRUCK" LEGALSPEEDLIMIT="90km/h" />
    </ROADTYPE>

    <ROADTYPE NAME="STREET" DEFAULTLANEWIDTH="3.6m" DEFAULTLANEKEEPING="KEEPRIGHT"
      DEFAULTOVERTAKING="LEFTSET([CAR, TRUCK] OVERTAKE [ALL]) RIGHTSPEED(50 km/h)">
      <SPEEDLIMIT GTUTYPE="CAR" LEGALSPEEDLIMIT="50km/h" />
      <SPEEDLIMIT GTUTYPE="TRUCK" LEGALSPEEDLIMIT="50km/h" />
    </ROADTYPE>

    <LANETYPE NAME="NOTRUCK">
      <SPEEDLIMIT GTUTYPE="CAR" LEGALSPEEDLIMIT="100km/h" />
    </LANETYPE>

    <ROADLAYOUT NAME="r1" ROADTYPE="STREET">
      <SHOULDER WIDTH="2m" OFFSET="-12.00m" COLOR="GREEN" />
      <STRIPE TYPE="SOLID" OFFSET="-11.00m" />
      <LANE NAME="FORWARD3" OFFSET="-9.4m" WIDTH="3.3m" DIRECTION="FORWARD" />
      <STRIPE TYPE="DASHED" OFFSET="-7.8m" WIDTH="20cm" COLOR="#FFFFFF" />
      <LANE NAME="FORWARD2" OFFSET="-6.2m" WIDTH="3.3m" DIRECTION="FORWARD" />
      <STRIPE TYPE="DASHED" OFFSET="-4.6m" WIDTH="20cm" COLOR="#FFFFFF" />
      <LANE NAME="FORWARD1" OFFSET="-3m" WIDTH="3.3m" DIRECTION="FORWARD" />
      <STRIPE TYPE="SOLID" OFFSET="-1.4m" WIDTH="20cm" COLOR="#FFFFFF" />
      <NOTRAFFICLANE OFFSET="0m" WIDTH="2.5m" COLOR="GREEN" />
    </ROADLAYOUT>

    <ROADLAYOUT NAME="r2r" ROADTYPE="STREET">
      <SHOULDER WIDTH="2m" OFFSET="-8.8m" COLOR="GREEN" />
      <STRIPE TYPE="SOLID" OFFSET="-7.8m" />
      <LANE NAME="FORWARD" OFFSET="-6.2m" WIDTH="3.3m" DIRECTION="FORWARD" />
      <STRIPE TYPE="SOLID" OFFSET="-4.6m" WIDTH="20cm" COLOR="#FFFFFF" />
    </ROADLAYOUT>

    <ROADLAYOUT NAME="r2l" ROADTYPE="STREET">
      <STRIPE TYPE="SOLID" OFFSET="-7.8m" WIDTH="20cm" COLOR="#FFFFFF" />
      <LANE NAME="FORWARD" OFFSET="-6.2m" WIDTH="3.3m" DIRECTION="FORWARD" />
      <STRIPE TYPE="SOLID" OFFSET="-4.6m" WIDTH="20cm" COLOR="#FFFFFF" />
      <NOTRAFFICLANE OFFSET="0m" WIDTH="2.5m" COLOR="GREEN" />
    </ROADLAYOUT>

    <ROADLAYOUT NAME="r3" ROADTYPE="STREET">
      <NOTRAFFICLANE OFFSET="-2.3m" WIDTH="4.6m" COLOR="GREEN" />
      <STRIPE TYPE="SOLID" OFFSET="-4.6m" WIDTH="20cm" COLOR="#FFFFFF" />
      <LANE NAME="FORWARD" OFFSET="-6.2m" WIDTH="3.3m" DIRECTION="FORWARD" />
      <STRIPE TYPE="SOLID" OFFSET="-7.8m" WIDTH="20cm" COLOR="#FFFFFF" />
      <NOTRAFFICLANE OFFSET="-8.8m" WIDTH="2m" COLOR="GREEN" />
    </ROADLAYOUT>

    <ROADLAYOUT NAME="r4" ROADTYPE="STREET">
      <NOTRAFFICLANE OFFSET="-2.3m" WIDTH="4.6m" COLOR="GREEN" />
      <STRIPE TYPE="SOLID" OFFSET="-4.6m" WIDTH="20cm" COLOR="#FFFFFF" />
      <LANE NAME="FORWARD" OFFSET="-6.2m" WIDTH="3.3m" DIRECTION="FORWARD" />
      <STRIPE TYPE="SOLID" OFFSET="-7.8m" WIDTH="20cm" COLOR="#FFFFFF" />
      <SHOULDER OFFSET="-8.8m" WIDTH="2m" COLOR="GREEN" />
    </ROADLAYOUT>

  </DEFINITIONS>

  <NODE NAME="N" COORDINATE="(0,300)" DIRECTION="270 deg" />
  <NODE NAME="E" COORDINATE="(300,0)" DIRECTION="180 deg" />
  <NODE NAME="S" COORDINATE="(0,-300)" DIRECTION="90 deg" />
  <NODE NAME="W" COORDINATE="(-300,0)" DIRECTION="0 deg" />
  <NODE NAME="NC" COORDINATE="(0,22)" DIRECTION="270 deg" />
  <NODE NAME="EC" COORDINATE="(22,0)" DIRECTION="180 deg" />
  <NODE NAME="SC" COORDINATE="(0,-22)" DIRECTION="90 deg" />
  <NODE NAME="WC" COORDINATE="(-22,0)" DIRECTION="0 deg" />
  <NODE NAME="NCO" COORDINATE="(0,22)" DIRECTION="90 deg" />
  <NODE NAME="ECO" COORDINATE="(22,0)" DIRECTION="0 deg" />
  <NODE NAME="SCO" COORDINATE="(0,-22)" DIRECTION="270 deg" />
  <NODE NAME="WCO" COORDINATE="(-22,0)" DIRECTION="180 deg" />

  <ROUTE NAME="NE" NODELIST="N NC ECO E" />
  <ROUTE NAME="NS" NODELIST="N NC SCO S" />
  <ROUTE NAME="NW" NODELIST="N NC WCO W" />
  <ROUTE NAME="EN" NODELIST="E EC NCO N" />
  <ROUTE NAME="ES" NODELIST="E EC SCO S" />
  <ROUTE NAME="EW" NODELIST="E EC WCO W" />
  <ROUTE NAME="SN" NODELIST="S SC NCO N" />
  <ROUTE NAME="SE" NODELIST="S SC ECO E" />
  <ROUTE NAME="SW" NODELIST="S SC WCO W" />
  <ROUTE NAME="WN" NODELIST="W WC NCO N" />
  <ROUTE NAME="WE" NODELIST="W WC ECO E" />
  <ROUTE NAME="WS" NODELIST="W WC SCO S" />

  <LINK NAME="NNC" NODESTART="N" NODEEND="NC" ROADLAYOUT="r1">
    <STRAIGHT />
    <GENERATOR LANE="FORWARD1" POSITION="10m" IAT="EXPO(20) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR"
      ROUTE="NE" GTUCOLORER="SWITCHABLE" />
    <GENERATOR LANE="FORWARD2" POSITION="10m" IAT="EXPO(10) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR"
      ROUTE="NS" GTUCOLORER="SWITCHABLE" />
    <GENERATOR LANE="FORWARD3" POSITION="10m" IAT="EXPO(10) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR"
      ROUTE="NW" GTUCOLORER="SWITCHABLE" />
  </LINK>

  <LINK NAME="EEC" NODESTART="E" NODEEND="EC" ROADLAYOUT="r1">
    <STRAIGHT />
    <GENERATOR LANE="FORWARD1" POSITION="10m" IAT="EXPO(20) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR"
      ROUTE="ES" GTUCOLORER="SWITCHABLE" />
    <GENERATOR LANE="FORWARD2" POSITION="10m" IAT="EXPO(10) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR"
      ROUTE="EW" GTUCOLORER="SWITCHABLE" />
    <GENERATOR LANE="FORWARD3" POSITION="10m" IAT="EXPO(10) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR"
      ROUTE="EN" GTUCOLORER="SWITCHABLE" />
  </LINK>

  <LINK NAME="SSC" NODESTART="S" NODEEND="SC" ROADLAYOUT="r1">
    <STRAIGHT />
    <GENERATOR LANE="FORWARD1" POSITION="10m" IAT="EXPO(20) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR"
      ROUTE="SW" GTUCOLORER="SWITCHABLE" />
    <GENERATOR LANE="FORWARD2" POSITION="10m" IAT="EXPO(10) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR"
      ROUTE="SN" GTUCOLORER="SWITCHABLE" />
    <GENERATOR LANE="FORWARD3" POSITION="10m" IAT="EXPO(10) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR"
      ROUTE="SE" GTUCOLORER="SWITCHABLE" />
  </LINK>

  <LINK NAME="WWC" NODESTART="W" NODEEND="WC" ROADLAYOUT="r1">
    <STRAIGHT />
    <GENERATOR LANE="FORWARD1" POSITION="10m" IAT="EXPO(20) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR"
      ROUTE="WN" GTUCOLORER="SWITCHABLE" />
    <GENERATOR LANE="FORWARD2" POSITION="10m" IAT="EXPO(10) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR"
      ROUTE="WE" GTUCOLORER="SWITCHABLE" />
    <GENERATOR LANE="FORWARD3" POSITION="10m" IAT="EXPO(10) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR"
      ROUTE="WS" GTUCOLORER="SWITCHABLE" />
  </LINK>

  <LINK NAME="ECNC" NODESTART="EC" NODEEND="NCO" ROADLAYOUT="r2r" OFFSETSTART="-3.2m" OFFSETEND="0m">
    <BEZIER STARTDIRECTION="180 deg" ENDDIRECTION="90 deg" />
  </LINK>

  <LINK NAME="ECSC" NODESTART="EC" NODEEND="SCO" ROADLAYOUT="r2l" OFFSETSTART="3.2m" OFFSETEND="0m">
    <BEZIER STARTDIRECTION="180 deg" ENDDIRECTION="270 deg" />
  </LINK>

  <LINK NAME="NCWC" NODESTART="NC" NODEEND="WCO" ROADLAYOUT="r2r" OFFSETSTART="-3.2m" OFFSETEND="0m">
    <BEZIER STARTDIRECTION="270 deg" ENDDIRECTION="180 deg" />
  </LINK>

  <LINK NAME="NCEC" NODESTART="NC" NODEEND="ECO" ROADLAYOUT="r2l" OFFSETSTART="3.2m" OFFSETEND="0m">
    <BEZIER STARTDIRECTION="270 deg" ENDDIRECTION="0 deg"/>
  </LINK>

  <LINK NAME="WCSC" NODESTART="WC" NODEEND="SCO" ROADLAYOUT="r2r" OFFSETSTART="-3.2m" OFFSETEND="0m">
    <BEZIER STARTDIRECTION="0 deg" ENDDIRECTION="270 deg" />
  </LINK>

  <LINK NAME="WCNC" NODESTART="WC" NODEEND="NCO" ROADLAYOUT="r2l" OFFSETSTART="3.2m" OFFSETEND="0m">
    <BEZIER STARTDIRECTION="0 deg" ENDDIRECTION="90 deg" />
  </LINK>

  <LINK NAME="SCEC" NODESTART="SC" NODEEND="ECO" ROADLAYOUT="r2r" OFFSETSTART="-3.2m" OFFSETEND="0m">
    <BEZIER STARTDIRECTION="90 deg" ENDDIRECTION="0 deg"/>
  </LINK>

  <LINK NAME="SCWC" NODESTART="SC" NODEEND="WCO" ROADLAYOUT="r2l" OFFSETSTART="3.2m" OFFSETEND="0m">
    <BEZIER STARTDIRECTION="90 deg" ENDDIRECTION="180 deg" />
  </LINK>

  <LINK NAME="NCSC" NODESTART="NC" NODEEND="SCO" ROADLAYOUT="r3">
    <STRAIGHT />
  </LINK>

  <LINK NAME="WCEC" NODESTART="WC" NODEEND="ECO" ROADLAYOUT="r3">
    <STRAIGHT />
  </LINK>

  <LINK NAME="SCNC" NODESTART="SC" NODEEND="NCO" ROADLAYOUT="r3">
    <STRAIGHT />
  </LINK>

  <LINK NAME="ECWC" NODESTART="EC" NODEEND="WCO" ROADLAYOUT="r3">
    <STRAIGHT />
  </LINK>

  <LINK NAME="ECOE" NODESTART="ECO" NODEEND="E" ROADLAYOUT="r4">
    <STRAIGHT />
    <SINK POSITION="250m" LANE="FORWARD" />
  </LINK>

  <LINK NAME="NCON" NODESTART="NCO" NODEEND="N" ROADLAYOUT="r4">
    <STRAIGHT />
    <SINK POSITION="250m" LANE="FORWARD" />
  </LINK>

  <LINK NAME="WCOW" NODESTART="WCO" NODEEND="W" ROADLAYOUT="r4">
    <STRAIGHT />
    <SINK POSITION="250m" LANE="FORWARD" />
  </LINK>

  <LINK NAME="SCOS" NODESTART="SCO" NODEEND="S" ROADLAYOUT="r4">
    <STRAIGHT />
    <SINK POSITION="250m" LANE="FORWARD" />
  </LINK>

</NETWORK>
