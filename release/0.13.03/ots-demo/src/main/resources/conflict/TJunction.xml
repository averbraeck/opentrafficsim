<?xml version="1.0" encoding="UTF-8"?>

<NETWORK xmlns="http://www.opentrafficsim.org/ots" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.opentrafficsim.org/ots http://www.opentrafficsim.org/docs/current/ots-network.xsd">

  <DEFINITIONS>

    <GLOBAL />

    <GTUTYPE NAME="CAR" />

    <GTU NAME="CAR" GTUTYPE="CAR" LENGTH="UNIF(3, 4) m" WIDTH="UNIF(1.7, 2) m" MAXSPEED="CONST(120) km/h" />

    <ROADTYPE NAME="URBAN" DEFAULTLANEWIDTH="3.5m" DEFAULTLANEKEEPING="KEEPRIGHT" DEFAULTOVERTAKING="NONE">
      <SPEEDLIMIT GTUTYPE="CAR" LEGALSPEEDLIMIT="50km/h" />
    </ROADTYPE>

    <ROADLAYOUT NAME="RIGHT" ROADTYPE="URBAN">
      <SHOULDER WIDTH="2m" OFFSET="-8.75m" COLOR="RGB(0,128,0)" />
      <LANE NAME="LANE" OFFSET="-6.0m" WIDTH="3.5m" DIRECTION="FORWARD" />
      <SHOULDER WIDTH="2m" OFFSET="-3.25m" COLOR="RGB(0,128,0)" />
    </ROADLAYOUT>
    
    <ROADLAYOUT NAME="RIGHT2" ROADTYPE="URBAN">
      <SHOULDER WIDTH="2m" OFFSET="-8.75m" COLOR="RGB(0,128,0)" />
      <!--STRIPE TYPE="SOLID" OFFSET="-7.75m" / -->
      <LANE NAME="LANE" OFFSET="-6.0m" WIDTH="3.5m" DIRECTION="FORWARD" />
      <STRIPE TYPE="DASHED" OFFSET="-4.25m" />
      <LANE NAME="TURNLANE" OFFSET="-2.5m" WIDTH="3.5m" DIRECTION="FORWARD" />
      <SHOULDER WIDTH="2m" OFFSET="0.25m" COLOR="RGB(0,128,0)" />
    </ROADLAYOUT>

  </DEFINITIONS>

  <NODE NAME="E" COORDINATE="(300,0)" />
  <NODE NAME="S" COORDINATE="(0,-300)" />
  <NODE NAME="W" COORDINATE="(-300,0)" />
  <NODE NAME="EC" COORDINATE="(18.8,0)" ANGLE="180 deg" />
  <NODE NAME="E2" COORDINATE="(75,0)" />
  <NODE NAME="SC" COORDINATE="(0,-18.8)" ANGLE="270 deg" />
  <NODE NAME="WC" COORDINATE="(-18.8,0)" />

  <ROUTE NODELIST="E E2 EC WC W" NAME="EW" />
  <ROUTE NODELIST="E E2 EC SC S" NAME="ES" />
  <ROUTE NODELIST="W WC EC E" NAME="WE" />
  <ROUTE NODELIST="W WC SC S" NAME="WS" />
  <ROUTE NODELIST="S SC WC W" NAME="SW" />
  <ROUTE NODELIST="S SC EC E" NAME="SE" />

  <ROUTEMIX NAME="E">
    <ROUTE WEIGHT="0.6" NAME="EW" />
    <ROUTE WEIGHT="0.4" NAME="ES" />
  </ROUTEMIX>

  <ROUTEMIX NAME="W">
    <ROUTE WEIGHT="0.8" NAME="WE" />
    <ROUTE WEIGHT="0.2" NAME="WS" />
  </ROUTEMIX>

  <ROUTEMIX NAME="S">
    <ROUTE WEIGHT="0.5" NAME="SW" />
    <ROUTE WEIGHT="0.5" NAME="SE" />
  </ROUTEMIX>

  <LINK NAME="EE2" NODESTART="E" NODEEND="E2" ROADLAYOUT="RIGHT">
    <STRAIGHT />
    <GENERATOR LANE="LANE" POSITION="10m" IAT="EXPO(8) s" INITIALSPEED="CONST(50.0) km/h" GTU="CAR" ROUTEMIX="E"
      GTUCOLORER="SWITCHABLE" TACTICALPLANNER="LMRS" />
  </LINK>
  
  <LINK NAME="E2EC" NODESTART="E2" NODEEND="EC" ROADLAYOUT="RIGHT2">
    <STRAIGHT />
  </LINK>

  <LINK NAME="ECE" NODESTART="EC" NODEEND="E" ROADLAYOUT="RIGHT">
    <STRAIGHT />
    <SINK POSITION="END-20m" LANE="LANE" />
  </LINK>

  <LINK NAME="SSC" NODESTART="S" NODEEND="SC" ROADLAYOUT="RIGHT">
    <STRAIGHT />
    <GENERATOR LANE="LANE" POSITION="10m" IAT="EXPO(10) s" INITIALSPEED="CONST(50.0) km/h" GTU="CAR" ROUTEMIX="S"
      GTUCOLORER="SWITCHABLE" TACTICALPLANNER="LMRS" />
  </LINK>

  <LINK NAME="SCS" NODESTART="SC" NODEEND="S" ROADLAYOUT="RIGHT">
    <STRAIGHT />
    <SINK POSITION="END-20m" LANE="LANE" />
  </LINK>

  <LINK NAME="WWC" NODESTART="W" NODEEND="WC" ROADLAYOUT="RIGHT">
    <STRAIGHT />
    <GENERATOR LANE="LANE" POSITION="10m" IAT="EXPO(10) s" INITIALSPEED="CONST(50.0) km/h" GTU="CAR" ROUTEMIX="W"
      GTUCOLORER="SWITCHABLE" TACTICALPLANNER="LMRS" />
  </LINK>

  <LINK NAME="WCW" NODESTART="WC" NODEEND="W" ROADLAYOUT="RIGHT">
    <STRAIGHT />
    <SINK POSITION="END-20m" LANE="LANE" />
  </LINK>

  <LINK NAME="ECWC" NODESTART="EC" NODEEND="WC" ROADLAYOUT="RIGHT">
    <STRAIGHT />
  </LINK>

  <LINK NAME="ECSC" NODESTART="EC" NODEEND="SC" ROADLAYOUT="RIGHT" OFFSETSTART="3.5m">
    <!-- ARC RADIUS="18.8m" ANGLE="90 deg" DIRECTION="L" / -->
    <BEZIER />
  </LINK>

  <LINK NAME="SCEC" NODESTART="SC" NODEEND="EC" ROADLAYOUT="RIGHT">
    <ARC RADIUS="18.8m" ANGLE="90 deg" DIRECTION="R" />
  </LINK>

  <LINK NAME="SCWC" NODESTART="SC" NODEEND="WC" ROADLAYOUT="RIGHT">
    <ARC RADIUS="18.8m" ANGLE="90 deg" DIRECTION="L" />
  </LINK>

  <LINK NAME="WCEC" NODESTART="WC" NODEEND="EC" ROADLAYOUT="RIGHT">
    <STRAIGHT />
  </LINK>

  <LINK NAME="WCSC" NODESTART="WC" NODEEND="SC" ROADLAYOUT="RIGHT">
    <ARC RADIUS="18.8m" ANGLE="90 deg" DIRECTION="R" />
  </LINK>

</NETWORK>
    