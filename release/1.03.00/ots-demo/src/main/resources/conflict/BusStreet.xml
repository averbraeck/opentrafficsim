<?xml version="1.0" encoding="UTF-8" ?>
<OTS xmlns="http://www.opentrafficsim.org/ots" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.opentrafficsim.org/ots https://opentrafficsim.org/docs/xsd/1.03.00/ots.xsd"
  xmlns:xi="http://www.w3.org/2001/XInclude">

  <DEFINITIONS>
    <xi:include href="https://opentrafficsim.org/docs/xsd/1.03.00/defaults/default_gtutypes.xml">
      <xi:fallback>
        <xi:include href="../xsd/1.03.00/defaults/default_gtutypes.xml" />
      </xi:fallback>
    </xi:include>
    <xi:include href="https://opentrafficsim.org/docs/xsd/1.03.00/defaults/default_linktypes.xml">
      <xi:fallback>
        <xi:include href="../xsd/1.03.00/defaults/default_linktypes.xml" />
      </xi:fallback>
    </xi:include>
    <xi:include href="https://opentrafficsim.org/docs/xsd/1.03.00/defaults/default_lanetypes.xml">
      <xi:fallback>
        <xi:include href="../xsd/1.03.00/defaults/default_lanetypes.xml" />
      </xi:fallback>
    </xi:include>

    <GTUTEMPLATES>
      <GTUTEMPLATE DEFAULT="true" GTUTYPE="CAR" ID="CAR">
        <LENGTHDIST LENGTHUNIT="m">
          <UNIFORM MIN="3.0" MAX="4.0" />
        </LENGTHDIST>
        <WIDTHDIST LENGTHUNIT="m">
          <UNIFORM MIN="1.7" MAX="2.0" />
        </WIDTHDIST>
        <MAXSPEEDDIST SPEEDUNIT="km/h">
          <CONSTANT C="120" />
        </MAXSPEEDDIST>
      </GTUTEMPLATE>

      <GTUTEMPLATE DEFAULT="true" GTUTYPE="SCHEDULED_BUS" ID="BUS1">
        <LENGTHDIST LENGTHUNIT="m">
          <CONSTANT C="8.0" />
        </LENGTHDIST>
        <WIDTHDIST LENGTHUNIT="m">
          <CONSTANT C="2.55" />
        </WIDTHDIST>
        <MAXSPEEDDIST SPEEDUNIT="km/h">
          <CONSTANT C="120" />
        </MAXSPEEDDIST>
      </GTUTEMPLATE>

      <GTUTEMPLATE DEFAULT="true" GTUTYPE="SCHEDULED_BUS" ID="BUS2">
        <LENGTHDIST LENGTHUNIT="m">
          <CONSTANT C="12.0" />
        </LENGTHDIST>
        <WIDTHDIST LENGTHUNIT="m">
          <CONSTANT C="2.55" />
        </WIDTHDIST>
        <MAXSPEEDDIST SPEEDUNIT="km/h">
          <CONSTANT C="120" />
        </MAXSPEEDDIST>
      </GTUTEMPLATE>
    </GTUTEMPLATES>

    <LINKTYPES>
      <LINKTYPE ID="URBAN">
        <COMPATIBILITY GTUTYPE="VEHICLE" DIRECTION="FORWARD" />
        <SPEEDLIMIT GTUTYPE="CAR" LEGALSPEEDLIMIT="50km/h" />
        <SPEEDLIMIT GTUTYPE="SCHEDULED_BUS" LEGALSPEEDLIMIT="50km/h" />
      </LINKTYPE>
    </LINKTYPES>

    <LANETYPES>
      <LANETYPE ID="URBAN">
        <COMPATIBILITY GTUTYPE="VEHICLE" DIRECTION="FORWARD" />
      </LANETYPE>
    </LANETYPES>

    <ROADLAYOUTS>
      <ROADLAYOUT ID="SHOULDER" LINKTYPE="URBAN">
        <SHOULDER>
          <CENTEROFFSET>-2.75m</CENTEROFFSET>
          <WIDTH>2m</WIDTH>
        </SHOULDER>
        <SHOULDER ID="COL192">
          <CENTEROFFSET>0.0m</CENTEROFFSET>
          <WIDTH>3.5m</WIDTH>
        </SHOULDER>
      </ROADLAYOUT>

      <ROADLAYOUT ID="1LANE" LINKTYPE="URBAN">
        <SHOULDER>
          <CENTEROFFSET>-2.75m</CENTEROFFSET>
          <WIDTH>2m</WIDTH>
        </SHOULDER>
        <LANE ID="LANE" DESIGNDIRECTION="true" LANETYPE="URBAN">
          <CENTEROFFSET>0.0m</CENTEROFFSET>
          <WIDTH>3.5m</WIDTH>
        </LANE>
        <SHOULDER>
          <CENTEROFFSET>2.25m</CENTEROFFSET>
          <WIDTH>2m</WIDTH>
        </SHOULDER>
      </ROADLAYOUT>

      <ROADLAYOUT ID="2LANE" LINKTYPE="URBAN">
        <SHOULDER>
          <CENTEROFFSET>6.25m</CENTEROFFSET>
          <WIDTH>2m</WIDTH>
        </SHOULDER>
        <LANE ID="LEFT" DESIGNDIRECTION="true" LANETYPE="URBAN">
          <CENTEROFFSET>3.5m</CENTEROFFSET>
          <WIDTH>3.5m</WIDTH>
        </LANE>
        <STRIPE TYPE="DASHED">
          <CENTEROFFSET>1.75m</CENTEROFFSET>
        </STRIPE>
        <LANE ID="RIGHT" DESIGNDIRECTION="true" LANETYPE="URBAN">
          <CENTEROFFSET>0.0m</CENTEROFFSET>
          <WIDTH>3.5m</WIDTH>
        </LANE>
        <SHOULDER>
          <CENTEROFFSET>-2.75m</CENTEROFFSET>
          <WIDTH>2m</WIDTH>
        </SHOULDER>
      </ROADLAYOUT>

      <ROADLAYOUT ID="3LANE" LINKTYPE="URBAN">
        <SHOULDER>
          <CENTEROFFSET>2.75m</CENTEROFFSET>
          <WIDTH>2m</WIDTH>
        </SHOULDER>
        <LANE ID="LEFT" DESIGNDIRECTION="true" LANETYPE="URBAN">
          <CENTEROFFSET>0.0m</CENTEROFFSET>
          <WIDTH>3.5m</WIDTH>
        </LANE>
        <STRIPE TYPE="DASHED">
          <CENTEROFFSET>-1.75m</CENTEROFFSET>
        </STRIPE>
        <LANE ID="MIDDLE" DESIGNDIRECTION="true" LANETYPE="URBAN">
          <CENTEROFFSET>-3.5m</CENTEROFFSET>
          <WIDTH>3.5m</WIDTH>
        </LANE>
        <STRIPE TYPE="DASHED">
          <CENTEROFFSET>-5.25m</CENTEROFFSET>
        </STRIPE>
        <LANE ID="RIGHT" DESIGNDIRECTION="true" LANETYPE="URBAN">
          <CENTEROFFSET>-7.0m</CENTEROFFSET>
          <WIDTH>3.5m</WIDTH>
        </LANE>
        <SHOULDER>
          <CENTEROFFSET>-9.75m</CENTEROFFSET>
          <WIDTH>2m</WIDTH>
        </SHOULDER>
      </ROADLAYOUT>
    </ROADLAYOUTS>
  </DEFINITIONS>

  <NETWORK>
    <NODE ID="A" COORDINATE="(0,0)" />
    <NODE ID="B" COORDINATE="(100,0)" />
    <NODE ID="B1" COORDINATE="(110,-3.5)" />
    <NODE ID="B2" COORDINATE="(130,-3.5)" />
    <NODE ID="C" COORDINATE="(130,0)" />
    <NODE ID="C1" COORDINATE="(140,-3.5)" />
    <NODE ID="C2" COORDINATE="(160,-3.5)" />
    <NODE ID="D" COORDINATE="(140,0)" />
    <NODE ID="E" COORDINATE="(170,0)" />
    <NODE ID="F" COORDINATE="(300,0)" />
    <NODE ID="G" COORDINATE="(450,0)" />
    <NODE ID="H" COORDINATE="(550,0)" />
    <NODE ID="I" COORDINATE="(600,-3.5)" DIRECTION="0 deg" />
    <NODE ID="I1" COORDINATE="(610,-8.5)" />
    <NODE ID="I2" COORDINATE="(630,-8.5)" />
    <NODE ID="J" COORDINATE="(640,-3.5)" />
    <NODE ID="K" COORDINATE="(670,-3.5)" />
    <NODE ID="K1" COORDINATE="(680,-7.0)" DIRECTION="0 deg" />
    <NODE ID="K2" COORDINATE="(700,-7.0)" DIRECTION="0 deg" />
    <NODE ID="K3" COORDINATE="(709,-7.0)" />
    <NODE ID="L" COORDINATE="(710,-3.5)" DIRECTION="0 deg" />
    <NODE ID="M" COORDINATE="(760,-3.5)" />
    <NODE ID="N" COORDINATE="(800,-3.5)" />
    <NODE ID="O" COORDINATE="(800,-8.5)" DIRECTION="0 deg" />

    <LINK ID="AB" NODESTART="A" NODEEND="B" TYPE="URBAN">
      <STRAIGHT />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="BC" NODESTART="B" NODEEND="C" TYPE="URBAN">
      <STRAIGHT />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="CD" NODESTART="C" NODEEND="D" TYPE="URBAN">
      <STRAIGHT />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="DE" NODESTART="D" NODEEND="E" TYPE="URBAN">
      <STRAIGHT />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="EF" NODESTART="E" NODEEND="F" TYPE="URBAN">
      <STRAIGHT />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="FG" NODESTART="F" NODEEND="G" TYPE="URBAN">
      <STRAIGHT />
      <DEFINEDLAYOUT>2LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="GH" NODESTART="G" NODEEND="H" TYPE="URBAN">
      <STRAIGHT />
      <DEFINEDLAYOUT>3LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="HI" NODESTART="H" NODEEND="I" TYPE="URBAN" OFFSETSTART="-3.5m">
      <STRAIGHT />
      <DEFINEDLAYOUT>2LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="IJ" NODESTART="I" NODEEND="J" TYPE="URBAN">
      <STRAIGHT />
      <DEFINEDLAYOUT>2LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="JK" NODESTART="J" NODEEND="K" TYPE="URBAN">
      <STRAIGHT />
      <DEFINEDLAYOUT>2LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="KL" NODESTART="K" NODEEND="L" TYPE="URBAN">
      <STRAIGHT />
      <DEFINEDLAYOUT>2LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="LM" NODESTART="L" NODEEND="M" TYPE="URBAN" OFFSETEND="3.5m" OFFSETSTART="3.5m">
      <STRAIGHT />
      <DEFINEDLAYOUT>3LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="MN" NODESTART="M" NODEEND="N" TYPE="URBAN">
      <STRAIGHT />
      <DEFINEDLAYOUT>2LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="MO" NODESTART="M" NODEEND="O" TYPE="URBAN" OFFSETSTART="-3.5m">
      <BEZIER />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="BB1" NODESTART="B" NODEEND="B1" TYPE="URBAN">
      <BEZIER />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="B1B2" NODESTART="B1" NODEEND="B2" TYPE="URBAN" PRIORITY="BUS_STOP">
      <STRAIGHT />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="B2D" NODESTART="B2" NODEEND="D" TYPE="URBAN" PRIORITY="BUS_STOP">
      <BEZIER />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="B2C1fill" NODESTART="B2" NODEEND="C1" TYPE="URBAN"> <!-- for esthetics only -->
      <STRAIGHT />
      <DEFINEDLAYOUT>SHOULDER</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="CC1" NODESTART="C" NODEEND="C1" TYPE="URBAN">
      <BEZIER />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="C1C2" NODESTART="C1" NODEEND="C2" TYPE="URBAN" PRIORITY="BUS_STOP">
      <STRAIGHT />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="C2E" NODESTART="C2" NODEEND="E" TYPE="URBAN" PRIORITY="BUS_STOP">
      <BEZIER />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="II1" NODESTART="I" NODEEND="I1" TYPE="URBAN">
      <BEZIER />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="I1I2" NODESTART="I1" NODEEND="I2" TYPE="URBAN" PRIORITY="BUS_STOP">
      <STRAIGHT />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="I2J" NODESTART="I2" NODEEND="J" TYPE="URBAN" PRIORITY="BUS_STOP">
      <BEZIER />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="KK1" NODESTART="K" NODEEND="K1" TYPE="URBAN">
      <BEZIER />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="K1K2" NODESTART="K1" NODEEND="K2" TYPE="URBAN" PRIORITY="BUS_STOP">
      <STRAIGHT />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="K2L" NODESTART="K2" NODEEND="L" TYPE="URBAN" PRIORITY="BUS_STOP">
      <BEZIER />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="K2K3" NODESTART="K2" NODEEND="K3" TYPE="URBAN">
      <STRAIGHT />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="K3L" NODESTART="K3" NODEEND="L" TYPE="URBAN" OFFSETEND="-3.5m">
      <STRAIGHT />
      <DEFINEDLAYOUT>1LANE</DEFINEDLAYOUT>
    </LINK>

  </NETWORK>

  <NETWORKDEMAND>
    <SINK LINK="MN" POSITION="END-20m" LANE="LEFT" DIRECTION="DIR_PLUS" />
    <SINK LINK="MN" POSITION="END-20m" LANE="RIGHT" DIRECTION="DIR_PLUS" />
    <SINK LINK="MO" POSITION="END-20m" LANE="LANE" DIRECTION="DIR_PLUS" />
  </NETWORKDEMAND>

  <SCENARIO></SCENARIO>

  <RUN>
    <RUNLENGTH>1h</RUNLENGTH>
  </RUN>

  <ANIMATION>
    <DEFAULTS>
      <SHOULDER COLOR="RGB(0,128,0)" />
    </DEFAULTS>

    <ROADLAYOUT ID="SHOULDER">
      <SHOULDER ID="COL192" COLOR="RGB(192,192,192)" />
    </ROADLAYOUT>

    <LINK ID="B1B2">
      <LANE ID="LANE" COLOR="RGB(160,160,160)" />
    </LINK>
    <LINK ID="C1C2">
      <LANE ID="LANE" COLOR="RGB(160,160,160)" />
    </LINK>
    <LINK ID="I1I2">
      <LANE ID="LANE" COLOR="RGB(160,160,160)" />
    </LINK>
    <LINK ID="K1K2">
      <LANE ID="LANE" COLOR="RGB(160,160,160)" />
    </LINK>

  </ANIMATION>
</OTS>