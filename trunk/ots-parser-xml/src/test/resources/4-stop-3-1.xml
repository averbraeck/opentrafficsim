<?xml version="1.0" encoding="UTF-8" ?>
<OTS xmlns="http://www.opentrafficsim.org/ots" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.opentrafficsim.org/ots https://opentrafficsim.org/docs/xsd/1.02.01/ots.xsd"
  xmlns:xi="http://www.w3.org/2001/XInclude">

  <DEFINITIONS>
    <xi:include href="https://opentrafficsim.org/docs/xsd/1.02.01/defaults/default_gtutypes.xml" />
    <xi:include href="https://opentrafficsim.org/docs/xsd/1.02.01/defaults/default_linktypes.xml" />
    <xi:include href="https://opentrafficsim.org/docs/xsd/1.02.01/defaults/default_lanetypes.xml" />

    <GTUTEMPLATES>
      <GTUTEMPLATE DEFAULT="true" GTUTYPE="CAR" ID="CAR">
        <LENGTHDIST LENGTHUNIT="m">
          <UNIFORM MIN="3.0" MAX="7.0" />
        </LENGTHDIST>
        <WIDTHDIST LENGTHUNIT="m">
          <UNIFORM MIN="1.7" MAX="2.0" />
        </WIDTHDIST>
        <MAXSPEEDDIST SPEEDUNIT="km/h">
          <CONSTANT C="120" />
        </MAXSPEEDDIST>
      </GTUTEMPLATE>
    </GTUTEMPLATES>

    <LINKTYPES>
      <LINKTYPE ID="STREET">
        <COMPATIBILITY GTUTYPE="VEHICLE" DIRECTION="FORWARD" />
        <SPEEDLIMIT GTUTYPE="CAR" LEGALSPEEDLIMIT="40km/h" />
        <SPEEDLIMIT GTUTYPE="TRUCK" LEGALSPEEDLIMIT="40km/h" />
      </LINKTYPE>
    </LINKTYPES>

    <LANETYPES>
      <LANETYPE ID="STREET">
        <COMPATIBILITY GTUTYPE="VEHICLE" DIRECTION="FORWARD" />
      </LANETYPE>
    </LANETYPES>

    <ROADLAYOUTS>
      <ROADLAYOUT ID="r1" LINKTYPE="STREET">
        <SHOULDER>
          <WIDTH>2m</WIDTH>
        </SHOULDER>
        <STRIPE TYPE="SOLID" />
        <LANE ID="M" LANETYPE="STREET" DESIGNDIRECTION="true">
          <CENTEROFFSET>0m</CENTEROFFSET>
          <WIDTH>3.6m</WIDTH>
        </LANE>
        <STRIPE TYPE="SOLID" />
        <SHOULDER>
          <WIDTH>2m</WIDTH>
        </SHOULDER>
      </ROADLAYOUT>

      <ROADLAYOUT ID="r3" LINKTYPE="STREET">
        <SHOULDER>
          <WIDTH>2m</WIDTH>
        </SHOULDER>
        <STRIPE TYPE="SOLID" />
        <LANE ID="R" LANETYPE="STREET" DESIGNDIRECTION="true">
          <WIDTH>3.6m</WIDTH>
        </LANE>
        <STRIPE TYPE="DASHED" />
        <LANE ID="M" LANETYPE="STREET" DESIGNDIRECTION="true">
          <CENTEROFFSET>0m</CENTEROFFSET>
          <WIDTH>3.6m</WIDTH>
        </LANE>
        <STRIPE TYPE="DASHED" />
        <LANE ID="L" LANETYPE="STREET" DESIGNDIRECTION="true">
          <WIDTH>3.6m</WIDTH>
        </LANE>
        <STRIPE TYPE="SOLID" />
        <SHOULDER>
          <WIDTH>2m</WIDTH>
        </SHOULDER>
      </ROADLAYOUT>
    </ROADLAYOUTS>
  </DEFINITIONS>

  <NETWORK>
    <NODE ID="NS1" COORDINATE="(-6,200)" DIRECTION="270 deg" />
    <NODE ID="NS2" COORDINATE="(-6,100)" DIRECTION="270 deg" />
    <NODE ID="NS3" COORDINATE="(-6,20)" DIRECTION="270 deg" />
    <NODE ID="NS4" COORDINATE="(-6,-23)" DIRECTION="270 deg" />
    <NODE ID="NS5" COORDINATE="(-6,-100)" DIRECTION="270 deg" />
    <NODE ID="NS6" COORDINATE="(-6,-200)" DIRECTION="270 deg" />

    <NODE ID="SN1" COORDINATE="(6,-200)" DIRECTION="90 deg" />
    <NODE ID="SN2" COORDINATE="(6,-100)" DIRECTION="90 deg" />
    <NODE ID="SN3" COORDINATE="(6,-20)" DIRECTION="90 deg" />
    <NODE ID="SN4" COORDINATE="(6,23)" DIRECTION="90 deg" />
    <NODE ID="SN5" COORDINATE="(6,100)" DIRECTION="90 deg" />
    <NODE ID="SN6" COORDINATE="(6,200)" DIRECTION="90 deg" />

    <NODE ID="EW1" COORDINATE="(-200,-6)" DIRECTION="0 deg" />
    <NODE ID="EW2" COORDINATE="(-100,-6)" DIRECTION="0 deg" />
    <NODE ID="EW3" COORDINATE="(-20,-6)" DIRECTION="0 deg" />
    <NODE ID="EW4" COORDINATE="(23,-6)" DIRECTION="0 deg" />
    <NODE ID="EW5" COORDINATE="(100,-6)" DIRECTION="0 deg" />
    <NODE ID="EW6" COORDINATE="(200,-6)" DIRECTION="0 deg" />

    <NODE ID="WE1" COORDINATE="(200,6)" DIRECTION="180 deg" />
    <NODE ID="WE2" COORDINATE="(100,6)" DIRECTION="180 deg" />
    <NODE ID="WE3" COORDINATE="(20,6)" DIRECTION="180 deg" />
    <NODE ID="WE4" COORDINATE="(-23,6)" DIRECTION="180 deg" />
    <NODE ID="WE5" COORDINATE="(-100,6)" DIRECTION="180 deg" />
    <NODE ID="WE6" COORDINATE="(-200,6)" DIRECTION="180 deg" />

    <LINK ID="NS12" NODESTART="NS1" NODEEND="NS2" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r3</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="NS23" NODESTART="NS2" NODEEND="NS3" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r3</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="NS34" NODESTART="NS3" NODEEND="NS4" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="NS45" NODESTART="NS4" NODEEND="NS5" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="NS56" NODESTART="NS5" NODEEND="NS6" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>


    <LINK ID="SN12" NODESTART="SN1" NODEEND="SN2" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r3</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="SN23" NODESTART="SN2" NODEEND="SN3" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r3</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="SN34" NODESTART="SN3" NODEEND="SN4" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="SN45" NODESTART="SN4" NODEEND="SN5" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="SN56" NODESTART="SN5" NODEEND="SN6" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>


    <LINK ID="EW12" NODESTART="EW1" NODEEND="EW2" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r3</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="EW23" NODESTART="EW2" NODEEND="EW3" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r3</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="EW34" NODESTART="EW3" NODEEND="EW4" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="EW45" NODESTART="EW4" NODEEND="EW5" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="EW56" NODESTART="EW5" NODEEND="EW6" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>


    <LINK ID="WE12" NODESTART="WE1" NODEEND="WE2" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r3</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="WE23" NODESTART="WE2" NODEEND="WE3" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r3</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="WE34" NODESTART="WE3" NODEEND="WE4" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="WE45" NODESTART="WE4" NODEEND="WE5" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="WE56" NODESTART="WE5" NODEEND="WE6" TYPE="STREET">
      <STRAIGHT />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>


    <LINK ID="NSWE" NODESTART="NS3" NODEEND="WE4" TYPE="STREET" OFFSETSTART="-3.6m">
      <BEZIER SHAPE="0.7" />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="SNEW" NODESTART="SN3" NODEEND="EW4" TYPE="STREET" OFFSETSTART="-3.6m">
      <BEZIER SHAPE="0.7" />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="EWNS" NODESTART="EW3" NODEEND="NS4" TYPE="STREET" OFFSETSTART="-3.6m">
      <BEZIER SHAPE="0.7" />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="WESN" NODESTART="WE3" NODEEND="SN4" TYPE="STREET" OFFSETSTART="-3.6m">
      <BEZIER SHAPE="0.7" />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>


    <LINK ID="NSEW" NODESTART="NS3" NODEEND="EW4" TYPE="STREET" OFFSETSTART="3.6m">
      <BEZIER />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="SNWE" NODESTART="SN3" NODEEND="WE4" TYPE="STREET" OFFSETSTART="3.6m">
      <BEZIER />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="EWSN" NODESTART="EW3" NODEEND="SN4" TYPE="STREET" OFFSETSTART="3.6m">
      <BEZIER />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>

    <LINK ID="WENS" NODESTART="WE3" NODEEND="NS4" TYPE="STREET" OFFSETSTART="3.6m">
      <BEZIER />
      <DEFINEDLAYOUT>r1</DEFINEDLAYOUT>
    </LINK>

  </NETWORK>

  <NETWORKDEMAND>
    <SHORTESTROUTE ID="NE" GTUTYPE="VEHICLE">
      <FROM NODE="NS1" />
      <TO NODE="WE6" />
      <DISTANCECOST>1/m</DISTANCECOST>
    </SHORTESTROUTE>
    <SHORTESTROUTE ID="NS" GTUTYPE="VEHICLE">
      <FROM NODE="NS1" />
      <TO NODE="NS6" />
      <DISTANCECOST>1/m</DISTANCECOST>
    </SHORTESTROUTE>
    <SHORTESTROUTE ID="NW" GTUTYPE="VEHICLE">
      <FROM NODE="NS1" />
      <TO NODE="EW6" />
      <DISTANCECOST>1/m</DISTANCECOST>
    </SHORTESTROUTE>
    <SHORTESTROUTE ID="EN" GTUTYPE="VEHICLE">
      <FROM NODE="EW1" />
      <TO NODE="SN6" />
      <DISTANCECOST>1/m</DISTANCECOST>
    </SHORTESTROUTE>
    <SHORTESTROUTE ID="ES" GTUTYPE="VEHICLE">
      <FROM NODE="EW1" />
      <TO NODE="NS6" />
      <DISTANCECOST>1/m</DISTANCECOST>
    </SHORTESTROUTE>
    <SHORTESTROUTE ID="EW" GTUTYPE="VEHICLE">
      <FROM NODE="EW1" />
      <TO NODE="EW6" />
      <DISTANCECOST>1/m</DISTANCECOST>
    </SHORTESTROUTE>
    <SHORTESTROUTE ID="SN" GTUTYPE="VEHICLE">
      <FROM NODE="SN1" />
      <TO NODE="SN6" />
      <DISTANCECOST>1/m</DISTANCECOST>
    </SHORTESTROUTE>
    <SHORTESTROUTE ID="SE" GTUTYPE="VEHICLE">
      <FROM NODE="SN1" />
      <TO NODE="WE6" />
      <DISTANCECOST>1/m</DISTANCECOST>
    </SHORTESTROUTE>
    <SHORTESTROUTE ID="SW" GTUTYPE="VEHICLE">
      <FROM NODE="SN1" />
      <TO NODE="EW6" />
      <DISTANCECOST>1/m</DISTANCECOST>
    </SHORTESTROUTE>
    <SHORTESTROUTE ID="WN" GTUTYPE="VEHICLE">
      <FROM NODE="WE1" />
      <TO NODE="SN6" />
      <DISTANCECOST>1/m</DISTANCECOST>
    </SHORTESTROUTE>
    <SHORTESTROUTE ID="WE" GTUTYPE="VEHICLE">
      <FROM NODE="WE1" />
      <TO NODE="WE6" />
      <DISTANCECOST>1/m</DISTANCECOST>
    </SHORTESTROUTE>
    <SHORTESTROUTE ID="WS" GTUTYPE="VEHICLE">
      <FROM NODE="WE1" />
      <TO NODE="NS6" />
      <DISTANCECOST>1/m</DISTANCECOST>
    </SHORTESTROUTE>

    <GENERATOR LINK="NS12" LANE="L" POSITION="10m" DIRECTION="DIR_PLUS">
      <GTUTEMPLATE>CAR</GTUTEMPLATE>
      <SHORTESTROUTE>NW</SHORTESTROUTE>
      <FREQUENCY>2/min</FREQUENCY>
      <ROOMCHECKER>CF</ROOMCHECKER>
    </GENERATOR>
    <GENERATOR LINK="NS12" LANE="M" POSITION="10m" DIRECTION="DIR_PLUS">
      <GTUTEMPLATE>CAR</GTUTEMPLATE>
      <SHORTESTROUTE>NS</SHORTESTROUTE>
      <FREQUENCY>4/min</FREQUENCY>
      <ROOMCHECKER>CF</ROOMCHECKER>
    </GENERATOR>
    <GENERATOR LINK="NS12" LANE="R" POSITION="10m" DIRECTION="DIR_PLUS">
      <GTUTEMPLATE>CAR</GTUTEMPLATE>
      <SHORTESTROUTE>NE</SHORTESTROUTE>
      <FREQUENCY>2/min</FREQUENCY>
      <ROOMCHECKER>CF</ROOMCHECKER>
    </GENERATOR>

    <GENERATOR LINK="SN12" LANE="L" POSITION="10m" DIRECTION="DIR_PLUS">
      <GTUTEMPLATE>CAR</GTUTEMPLATE>
      <SHORTESTROUTE>SE</SHORTESTROUTE>
      <FREQUENCY>2/min</FREQUENCY>
      <ROOMCHECKER>CF</ROOMCHECKER>
    </GENERATOR>
    <GENERATOR LINK="SN12" LANE="M" POSITION="10m" DIRECTION="DIR_PLUS">
      <GTUTEMPLATE>CAR</GTUTEMPLATE>
      <SHORTESTROUTE>SN</SHORTESTROUTE>
      <FREQUENCY>4/min</FREQUENCY>
      <ROOMCHECKER>CF</ROOMCHECKER>
    </GENERATOR>
    <GENERATOR LINK="SN12" LANE="R" POSITION="10m" DIRECTION="DIR_PLUS">
      <GTUTEMPLATE>CAR</GTUTEMPLATE>
      <SHORTESTROUTE>SW</SHORTESTROUTE>
      <FREQUENCY>2/min</FREQUENCY>
      <ROOMCHECKER>CF</ROOMCHECKER>
    </GENERATOR>

    <GENERATOR LINK="EW12" LANE="L" POSITION="10m" DIRECTION="DIR_PLUS">
      <GTUTEMPLATE>CAR</GTUTEMPLATE>
      <SHORTESTROUTE>EN</SHORTESTROUTE>
      <FREQUENCY>2/min</FREQUENCY>
      <ROOMCHECKER>CF</ROOMCHECKER>
    </GENERATOR>
    <GENERATOR LINK="EW12" LANE="M" POSITION="10m" DIRECTION="DIR_PLUS">
      <GTUTEMPLATE>CAR</GTUTEMPLATE>
      <SHORTESTROUTE>EW</SHORTESTROUTE>
      <FREQUENCY>4/min</FREQUENCY>
      <ROOMCHECKER>CF</ROOMCHECKER>
    </GENERATOR>
    <GENERATOR LINK="EW12" LANE="R" POSITION="10m" DIRECTION="DIR_PLUS">
      <GTUTEMPLATE>CAR</GTUTEMPLATE>
      <SHORTESTROUTE>ES</SHORTESTROUTE>
      <FREQUENCY>2/min</FREQUENCY>
      <ROOMCHECKER>CF</ROOMCHECKER>
    </GENERATOR>

    <GENERATOR LINK="WE12" LANE="L" POSITION="10m" DIRECTION="DIR_PLUS">
      <GTUTEMPLATE>CAR</GTUTEMPLATE>
      <SHORTESTROUTE>WS</SHORTESTROUTE>
      <FREQUENCY>2/min</FREQUENCY>
      <ROOMCHECKER>CF</ROOMCHECKER>
    </GENERATOR>
    <GENERATOR LINK="WE12" LANE="M" POSITION="10m" DIRECTION="DIR_PLUS">
      <GTUTEMPLATE>CAR</GTUTEMPLATE>
      <SHORTESTROUTE>WE</SHORTESTROUTE>
      <FREQUENCY>4/min</FREQUENCY>
      <ROOMCHECKER>CF</ROOMCHECKER>
    </GENERATOR>
    <GENERATOR LINK="WE12" LANE="R" POSITION="10m" DIRECTION="DIR_PLUS">
      <GTUTEMPLATE>CAR</GTUTEMPLATE>
      <SHORTESTROUTE>WN</SHORTESTROUTE>
      <FREQUENCY>2/min</FREQUENCY>
      <ROOMCHECKER>CF</ROOMCHECKER>
    </GENERATOR>

    <SINK LINK="NS56" LANE="M" POSITION="40m" DIRECTION="DIR_PLUS" />
    <SINK LINK="SN56" LANE="M" POSITION="40m" DIRECTION="DIR_PLUS" />
    <SINK LINK="EW56" LANE="M" POSITION="40m" DIRECTION="DIR_PLUS" />
    <SINK LINK="WE56" LANE="M" POSITION="40m" DIRECTION="DIR_PLUS" />

  </NETWORKDEMAND>

  <SCENARIO></SCENARIO>

  <RUN>
    <RUNLENGTH>1h</RUNLENGTH>
    <RANDOMSTREAMS>
      <RANDOMSTREAM ID="default">
        <REPLICATION ID="1" SEED="1" />
      </RANDOMSTREAM>
      <RANDOMSTREAM ID="generation">
        <REPLICATION ID="1" SEED="1" />
      </RANDOMSTREAM>
    </RANDOMSTREAMS>
  </RUN>

  <ANIMATION>
    <DEFAULTS>
      <SHOULDER COLOR="GREEN" />
    </DEFAULTS>
  </ANIMATION>

</OTS>
