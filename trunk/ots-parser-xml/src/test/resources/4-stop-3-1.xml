<?xml version="1.0" encoding="UTF-8" ?>
<OTS xmlns="http://www.opentrafficsim.org/ots" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.opentrafficsim.org/ots https://opentrafficsim.org/docs/xsd/1.02.01/ots.xsd"
  xmlns:xi="http://www.w3.org/2001/XInclude">

  <DEFINITIONS>
    <xi:include href="https://opentrafficsim.org/docs/xsd/1.02.01/defaults/default_gtutypes.xml" />
    <xi:include href="https://opentrafficsim.org/docs/xsd/1.02.01/defaults/default_linktypes.xml" />
    <xi:include href="https://opentrafficsim.org/docs/xsd/1.02.01/defaults/default_lanetypes.xml" />
    <xi:include href="https://opentrafficsim.org/docs/xsd/1.02.01/defaults/default_gtutemplates.xml" />

    <GTU NAME="CAR" GTUTYPE="CAR" LENGTH="UNIF(4,7) m" WIDTH="UNIF(1.7, 2) m" MAXSPEED="CONST(120) km/h" />

    <ROADTYPE NAME="STREET" DEFAULTLANEWIDTH="3.6m" DEFAULTLANEKEEPING="KEEPRIGHT"
      DEFAULTOVERTAKING="LEFTSET([CAR, TRUCK] OVERTAKE [ALL]) RIGHTSPEED(40 km/h)">
      <SPEEDLIMIT GTUTYPE="CAR" LEGALSPEEDLIMIT="50km/h" />
      <SPEEDLIMIT GTUTYPE="TRUCK" LEGALSPEEDLIMIT="50km/h" />
    </ROADTYPE>

    <ROADLAYOUT ID="r1" LINKTYPE="STREET">
      <SHOULDER WIDTH="2m" OFFSET="-2.8m" COLOR="GREEN" />
      <STRIPE TYPE="SOLID" OFFSET="-1.8m" />
      <LANE ID="M" OFFSET="0m" WIDTH="3.6m" DIRECTION="FORWARD" />
      <STRIPE TYPE="SOLID" OFFSET="-1.8m" />
      <SHOULDER WIDTH="2m" OFFSET="2.8m" COLOR="GREEN" />
    </ROADLAYOUT>

    <ROADLAYOUT ID="r3" LINKTYPE="STREET">
      <SHOULDER WIDTH="2m" OFFSET="-6.4m" COLOR="GREEN" />
      <STRIPE TYPE="SOLID" OFFSET="-5.4m" />
      <LANE ID="R" OFFSET="-3.6m" WIDTH="3.6m" DIRECTION="FORWARD" />
      <STRIPE TYPE="DASHED" OFFSET="-1.8m" />
      <LANE ID="M" OFFSET="0m" WIDTH="3.6m" DIRECTION="FORWARD" />
      <STRIPE TYPE="DASHED" OFFSET="1.8m" />
      <LANE ID="L" OFFSET="3.6m" WIDTH="3.6m" DIRECTION="FORWARD" />
      <STRIPE TYPE="SOLID" OFFSET="5.4m" />
      <SHOULDER WIDTH="2m" OFFSET="6.4m" COLOR="GREEN" />
    </ROADLAYOUT>

  </DEFINITIONS>

  <NETWORK>
    <NODE ID="NS1" COORDINATE="(-6,200)" DIRECTION="270 deg" />
    <NODE ID="NS2" COORDINATE="(-6,100)" DIRECTION="270 deg" />
    <NODE ID="NS3" COORDINATE="(-6,20)" DIRECTION="270 deg" />
    <NODE ID="NS4" COORDINATE="(-6,-23)" DIRECTION="270 deg" />
    <NODE ID="NS5" COORDINATE="(-6,-100)" DIRECTION="270 deg" />
    <NODE ID="NS6" COORDINATE="(-6,-200)" DIRECTION="270 deg" />

    <NODE ID="SN1" COORDINATE="(6,-200)" DIRECTION="90 deg" />
    <NODE ID="SN2" COORDINATE="(6,-100)" DIRECTION="90 deg" />
    <NODE ID="SN3" COORDINATE="(6,-20)" DIRECTION="90 deg" />
    <NODE ID="SN4" COORDINATE="(6,23)" DIRECTION="90 deg" />
    <NODE ID="SN5" COORDINATE="(6,100)" DIRECTION="90 deg" />
    <NODE ID="SN6" COORDINATE="(6,200)" DIRECTION="90 deg" />

    <NODE ID="EW1" COORDINATE="(-200,-6)" DIRECTION="0 deg" />
    <NODE ID="EW2" COORDINATE="(-100,-6)" DIRECTION="0 deg" />
    <NODE ID="EW3" COORDINATE="(-20,-6)" DIRECTION="0 deg" />
    <NODE ID="EW4" COORDINATE="(23,-6)" DIRECTION="0 deg" />
    <NODE ID="EW5" COORDINATE="(100,-6)" DIRECTION="0 deg" />
    <NODE ID="EW6" COORDINATE="(200,-6)" DIRECTION="0 deg" />

    <NODE ID="WE1" COORDINATE="(200,6)" DIRECTION="180 deg" />
    <NODE ID="WE2" COORDINATE="(100,6)" DIRECTION="180 deg" />
    <NODE ID="WE3" COORDINATE="(20,6)" DIRECTION="180 deg" />
    <NODE ID="WE4" COORDINATE="(-23,6)" DIRECTION="180 deg" />
    <NODE ID="WE5" COORDINATE="(-100,6)" DIRECTION="180 deg" />
    <NODE ID="WE6" COORDINATE="(-200,6)" DIRECTION="180 deg" />

    <ROUTE NAME="NE" NODELIST="NS1 NS2 NS3 WE4 WE5 WE6" />
    <ROUTE NAME="NS" NODELIST="NS1 NS2 NS3 NS4 NS5 NS6" />
    <ROUTE NAME="NW" NODELIST="NS1 NS2 NS3 EW4 EW5 EW6" />
    <ROUTE NAME="EN" NODELIST="EW1 EW2 EW3 SN4 SN5 SN6" />
    <ROUTE NAME="ES" NODELIST="EW1 EW2 EW3 NS4 NS5 NS6" />
    <ROUTE NAME="EW" NODELIST="EW1 EW2 EW3 EW4 EW5 EW6" />
    <ROUTE NAME="SN" NODELIST="SN1 SN2 SN3 SN4 SN5 SN6" />
    <ROUTE NAME="SE" NODELIST="SN1 SN2 SN3 WE4 WE5 WE6" />
    <ROUTE NAME="SW" NODELIST="SN1 SN2 SN3 EW4 EW5 EW6" />
    <ROUTE NAME="WN" NODELIST="WE1 WE2 WE3 SN4 SN5 SN6" />
    <ROUTE NAME="WE" NODELIST="WE1 WE2 WE3 WE4 WE5 WE6" />
    <ROUTE NAME="WS" NODELIST="WE1 WE2 WE3 NS4 NS5 NS6" />

    <LINK ID="NS12" NODESTART="NS1" NODEEND="NS2" ROADLAYOUT="r3">
      <STRAIGHT />
      <GENERATOR LANE="L" POSITION="10m" IAT="EXPO(24) s" INITIALSPEED="CONST(30.0) km/h" GTU="CAR" ROUTE="NW"
        GTUCOLORER="SWITCHABLE" />
      <GENERATOR LANE="M" POSITION="10m" IAT="EXPO(12) s" INITIALSPEED="CONST(30.0) km/h" GTU="CAR" ROUTE="NS"
        GTUCOLORER="SWITCHABLE" />
      <GENERATOR LANE="R" POSITION="10m" IAT="EXPO(24) s" INITIALSPEED="CONST(30.0) km/h" GTU="CAR" ROUTE="NE"
        GTUCOLORER="SWITCHABLE" />
    </LINK>

    <LINK ID="NS23" NODESTART="NS2" NODEEND="NS3" ROADLAYOUT="r3">
      <STRAIGHT />
    </LINK>

    <LINK ID="NS34" NODESTART="NS3" NODEEND="NS4" ROADLAYOUT="r1">
      <STRAIGHT />
    </LINK>

    <LINK ID="NS45" NODESTART="NS4" NODEEND="NS5" ROADLAYOUT="r1">
      <STRAIGHT />
    </LINK>

    <LINK ID="NS56" NODESTART="NS5" NODEEND="NS6" ROADLAYOUT="r1">
      <STRAIGHT />
      <SINK LANE="M" POSITION="40m" />
    </LINK>


    <LINK ID="SN12" NODESTART="SN1" NODEEND="SN2" ROADLAYOUT="r3">
      <STRAIGHT />
      <GENERATOR LANE="L" POSITION="10m" IAT="EXPO(24) s" INITIALSPEED="CONST(30.0) km/h" GTU="CAR" ROUTE="SE"
        GTUCOLORER="SWITCHABLE" />
      <GENERATOR LANE="M" POSITION="10m" IAT="EXPO(12) s" INITIALSPEED="CONST(30.0) km/h" GTU="CAR" ROUTE="SN"
        GTUCOLORER="SWITCHABLE" />
      <GENERATOR LANE="R" POSITION="10m" IAT="EXPO(24) s" INITIALSPEED="CONST(30.0) km/h" GTU="CAR" ROUTE="SW"
        GTUCOLORER="SWITCHABLE" />
    </LINK>

    <LINK ID="SN23" NODESTART="SN2" NODEEND="SN3" ROADLAYOUT="r3">
      <STRAIGHT />
    </LINK>

    <LINK ID="SN34" NODESTART="SN3" NODEEND="SN4" ROADLAYOUT="r1">
      <STRAIGHT />
    </LINK>

    <LINK ID="SN45" NODESTART="SN4" NODEEND="SN5" ROADLAYOUT="r1">
      <STRAIGHT />
    </LINK>

    <LINK ID="SN56" NODESTART="SN5" NODEEND="SN6" ROADLAYOUT="r1">
      <STRAIGHT />
      <SINK LANE="M" POSITION="40m" />
    </LINK>


    <LINK ID="EW12" NODESTART="EW1" NODEEND="EW2" ROADLAYOUT="r3">
      <STRAIGHT />
      <GENERATOR LANE="L" POSITION="10m" IAT="EXPO(24) s" INITIALSPEED="CONST(30.0) km/h" GTU="CAR" ROUTE="EN"
        GTUCOLORER="SWITCHABLE" />
      <GENERATOR LANE="M" POSITION="10m" IAT="EXPO(12) s" INITIALSPEED="CONST(30.0) km/h" GTU="CAR" ROUTE="EW"
        GTUCOLORER="SWITCHABLE" />
      <GENERATOR LANE="R" POSITION="10m" IAT="EXPO(24) s" INITIALSPEED="CONST(30.0) km/h" GTU="CAR" ROUTE="ES"
        GTUCOLORER="SWITCHABLE" />
    </LINK>

    <LINK ID="EW23" NODESTART="EW2" NODEEND="EW3" ROADLAYOUT="r3">
      <STRAIGHT />
    </LINK>

    <LINK ID="EW34" NODESTART="EW3" NODEEND="EW4" ROADLAYOUT="r1">
      <STRAIGHT />
    </LINK>

    <LINK ID="EW45" NODESTART="EW4" NODEEND="EW5" ROADLAYOUT="r1">
      <STRAIGHT />
    </LINK>

    <LINK ID="EW56" NODESTART="EW5" NODEEND="EW6" ROADLAYOUT="r1">
      <STRAIGHT />
      <SINK LANE="M" POSITION="40m" />
    </LINK>


    <LINK ID="WE12" NODESTART="WE1" NODEEND="WE2" ROADLAYOUT="r3">
      <STRAIGHT />
      <GENERATOR LANE="L" POSITION="10m" IAT="EXPO(24) s" INITIALSPEED="CONST(30.0) km/h" GTU="CAR" ROUTE="WS"
        GTUCOLORER="SWITCHABLE" />
      <GENERATOR LANE="M" POSITION="10m" IAT="EXPO(12) s" INITIALSPEED="CONST(30.0) km/h" GTU="CAR" ROUTE="WE"
        GTUCOLORER="SWITCHABLE" />
      <GENERATOR LANE="R" POSITION="10m" IAT="EXPO(24) s" INITIALSPEED="CONST(30.0) km/h" GTU="CAR" ROUTE="WN"
        GTUCOLORER="SWITCHABLE" />
    </LINK>

    <LINK ID="WE23" NODESTART="WE2" NODEEND="WE3" ROADLAYOUT="r3">
      <STRAIGHT />
    </LINK>

    <LINK ID="WE34" NODESTART="WE3" NODEEND="WE4" ROADLAYOUT="r1">
      <STRAIGHT />
    </LINK>

    <LINK ID="WE45" NODESTART="WE4" NODEEND="WE5" ROADLAYOUT="r1">
      <STRAIGHT />
    </LINK>

    <LINK ID="WE56" NODESTART="WE5" NODEEND="WE6" ROADLAYOUT="r1">
      <STRAIGHT />
      <SINK LANE="M" POSITION="40m" />
    </LINK>


    <LINK ID="NSWE" NODESTART="NS3" NODEEND="WE4" ROADLAYOUT="r1" OFFSETSTART="-3.6m">
      <BEZIER />
    </LINK>

    <LINK ID="SNEW" NODESTART="SN3" NODEEND="EW4" ROADLAYOUT="r1" OFFSETSTART="-3.6m">
      <BEZIER />
    </LINK>

    <LINK ID="EWNS" NODESTART="EW3" NODEEND="NS4" ROADLAYOUT="r1" OFFSETSTART="-3.6m">
      <BEZIER />
    </LINK>

    <LINK ID="WESN" NODESTART="WE3" NODEEND="SN4" ROADLAYOUT="r1" OFFSETSTART="-3.6m">
      <BEZIER />
    </LINK>


    <LINK ID="NSEW" NODESTART="NS3" NODEEND="EW4" ROADLAYOUT="r1" OFFSETSTART="3.6m">
      <BEZIER />
    </LINK>

    <LINK ID="SNWE" NODESTART="SN3" NODEEND="WE4" ROADLAYOUT="r1" OFFSETSTART="3.6m">
      <BEZIER />
    </LINK>

    <LINK ID="EWSN" NODESTART="EW3" NODEEND="SN4" ROADLAYOUT="r1" OFFSETSTART="3.6m">
      <BEZIER />
    </LINK>

    <LINK ID="WENS" NODESTART="WE3" NODEEND="NS4" ROADLAYOUT="r1" OFFSETSTART="3.6m">
      <BEZIER />
    </LINK>


  </NETWORK>
</OTS>
