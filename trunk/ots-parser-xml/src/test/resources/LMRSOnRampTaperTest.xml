<?xml version="1.0" encoding="UTF-8"?>
<NETWORK xmlns="http://www.opentrafficsim.org/ots" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.opentrafficsim.org/ots https://opentrafficsim.org/docs/xsd/1.00.00/ots-network.xsd">

  <DEFINITIONS>

    <GLOBAL />

    <GTUTYPE NAME="CAR" />
    <GTUTYPE NAME="TRUCK" />

    <GTU NAME="CAR" GTUTYPE="CAR" LENGTH="UNIF(4,6) m" WIDTH="UNIF(1.7, 2) m"
      MAXSPEED="NORM(123.7, 12) km/h" />
    <GTU NAME="TRUCK" GTUTYPE="TRUCK" LENGTH="UNIF(16,24) m" WIDTH="UNIF(2.2, 2.7) m"
      MAXSPEED="NORM(85, 2.5) km/h" />

    <GTUMIX NAME="C85T15">
      <GTU NAME="CAR" WEIGHT="85" />
      <GTU NAME="TRUCK" WEIGHT="15" />
    </GTUMIX>

    <ROADTYPE NAME="HIGHWAY" DEFAULTLANEWIDTH="3.6m" DEFAULTLANEKEEPING="KEEPLANE"
      DEFAULTOVERTAKING="LEFTSET([CAR, TRUCK] OVERTAKE [ALL]) RIGHTSPEED(40 km/h)">
      <SPEEDLIMIT GTUTYPE="CAR" LEGALSPEEDLIMIT="120km/h" />
      <SPEEDLIMIT GTUTYPE="TRUCK" LEGALSPEEDLIMIT="90km/h" />
    </ROADTYPE>

    <ROADLAYOUT ID="THREELANE" LINKTYPE="HIGHWAY">
      <SHOULDER WIDTH="2m" OFFSET="5.2m" COLOR="RGB(0,128,0)" />
      <NOTRAFFICLANE WIDTH="0.6m" OFFSET="3.9m" />
      <STRIPE TYPE="SOLID" OFFSET="3.6m" />
      <LANE ID="LEFTLANE" OFFSET="1.8m" DIRECTION="FORWARD" />
      <STRIPE TYPE="DASHED"><CENTEROFFSET>0.0m</CENTEROFFSET></STRIPE>
      <LANE ID="MIDDLELANE" OFFSET="-1.8m" DIRECTION="FORWARD" />
      <STRIPE TYPE="LEFTONLY" OFFSET="-3.6m" />
      <LANE ID="DASHED" OFFSET="-5.4m" DIRECTION="FORWARD" />
      <STRIPE TYPE="SOLID" OFFSET="-7.2m" />
      <NOTRAFFICLANE OFFSET="-9.0m" />
      <SHOULDER WIDTH="2m" OFFSET="-11.8m" COLOR="RGB(0,128,0)" />
    </ROADLAYOUT>

    <ROADLAYOUT ID="TWOLANE" LINKTYPE="HIGHWAY">
      <SHOULDER WIDTH="2m" OFFSET="5.2m" COLOR="RGB(0,128,0)" />
      <NOTRAFFICLANE WIDTH="0.6m" OFFSET="3.9m" />
      <STRIPE TYPE="SOLID" OFFSET="3.6m" />
      <LANE ID="LEFTLANE" OFFSET="1.8m" DIRECTION="FORWARD" />
      <STRIPE TYPE="DASHED"><CENTEROFFSET>0.0m</CENTEROFFSET></STRIPE>
      <LANE ID="RIGHTLANE" OFFSET="-1.8m" DIRECTION="FORWARD" />
      <STRIPE TYPE="SOLID" OFFSET="-3.6m" />
      <NOTRAFFICLANE OFFSET="-5.4m" />
      <SHOULDER WIDTH="2m" OFFSET="-8.2m" COLOR="RGB(0,128,0)" />
    </ROADLAYOUT>

    <ROADLAYOUT ID="TWOLANELEFT" LINKTYPE="HIGHWAY">
      <SHOULDER WIDTH="2m" OFFSET="5.2m" COLOR="RGB(0,128,0)" />
      <NOTRAFFICLANE WIDTH="0.6m" OFFSET="3.9m" />
      <STRIPE TYPE="SOLID" OFFSET="3.6m" />
      <LANE ID="LEFTLANE" OFFSET="1.8m" DIRECTION="FORWARD" />
      <STRIPE TYPE="DASHED"><CENTEROFFSET>0.0m</CENTEROFFSET></STRIPE>
      <LANE ID="RIGHTLANE" OFFSET="-1.8m" DIRECTION="FORWARD" />
      <STRIPE TYPE="LEFTONLY" OFFSET="-3.6m" />
      <NOTRAFFICLANE OFFSET="-5.4m" />
      <SHOULDER WIDTH="2m" OFFSET="-8.2m" COLOR="RGB(0,128,0)" />
    </ROADLAYOUT>

    <ROADLAYOUT ID="TWOLANERIGHT" LINKTYPE="HIGHWAY">
      <SHOULDER WIDTH="2m" OFFSET="5.2m" COLOR="RGB(0,128,0)" />
      <NOTRAFFICLANE WIDTH="0.6m" OFFSET="3.9m" />
      <STRIPE TYPE="LEFTONLY" OFFSET="3.6m" />
      <LANE ID="LEFTLANE" OFFSET="1.8m" DIRECTION="FORWARD" />
      <STRIPE TYPE="RIGHTONLY" OFFSET="0.0m" />
      <LANE ID="RIGHTLANE" OFFSET="-1.8m" DIRECTION="FORWARD" />
      <STRIPE TYPE="SOLID" OFFSET="-3.6m" />
      <NOTRAFFICLANE OFFSET="-5.4m" />
      <SHOULDER WIDTH="2m" OFFSET="-8.2m" COLOR="RGB(0,128,0)" />
    </ROADLAYOUT>

  </DEFINITIONS>

  <NODE ID="A" COORDINATE="(0,0)" />
  <NODE ID="B" COORDINATE="(2000,0)" />
  <NODE ID="C" COORDINATE="(2250,0)" />
  <NODE ID="D" COORDINATE="(3000,0)" />
  <NODE ID="E" COORDINATE="(1500,-50)" />
  <NODE ID="F" COORDINATE="(1900,-14)" />

  <ROUTE NAME="ABCD" NODELIST="A B C D" />
  <ROUTE NAME="EFBCD" NODELIST="E B C D" />

  <LINK ID="AB" NODESTART="A" NODEEND="B" ROADLAYOUT="TWOLANE">
    <STRAIGHT />
    <GENERATOR LANE="LEFTLANE" POSITION="0m" IAT="CONST(1.8) s" INITIALSPEED="CONST(120) km/h" GTU="CAR"
      ROUTE="ABCD" GTUCOLORER="SWITCHABLE" />
    <GENERATOR LANE="RIGHTLANE" POSITION="0m" IAT="CONST(2.25) s" INITIALSPEED="CONST(90) km/h" GTU="CAR"
      ROUTE="ABCD" GTUCOLORER="SWITCHABLE" />
  </LINK>

  <LINK ID="BC1" NODESTART="B" NODEEND="C" ROADLAYOUT="TWOLANELEFT">
    <STRAIGHT />
  </LINK>

  <LINK ID="CD" NODESTART="C" NODEEND="D" ROADLAYOUT="THREELANE">
    <STRAIGHT />
  </LINK>

  <LINK ID="EF" NODESTART="E" NODEEND="F" ROADLAYOUT="TWOLANE">
    <STRAIGHT />
    <GENERATOR LANE="LEFTLANE" POSITION="0m" IAT="CONST(3.6) s" INITIALSPEED="CONST(120) km/h" GTU="CAR"
      ROUTE="EFBCD" GTUCOLORER="SWITCHABLE" />
    <GENERATOR LANE="RIGHTLANE" POSITION="0m" IAT="CONST(3.6) s" INITIALSPEED="CONST(90) km/h" GTU="CAR"
      ROUTE="EFBCD" GTUCOLORER="SWITCHABLE" />
  </LINK>

  <LINK ID="FB" NODESTART="F" NODEEND="B" ROADLAYOUT="TWOLANE" OFFSETEND="-7.2m">
    <BEZIER />
  </LINK>

  <LINK ID="BC2" NODESTART="B" NODEEND="C" ROADLAYOUT="TWOLANERIGHT" OFFSETSTART="-7.2m" OFFSETEND="-3.6m">
    <STRAIGHT />
  </LINK>

</NETWORK>