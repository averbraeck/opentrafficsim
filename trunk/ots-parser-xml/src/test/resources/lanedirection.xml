<?xml version="1.0" encoding="UTF-8"?>
<NETWORK xmlns="http://www.opentrafficsim.org/ots" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.opentrafficsim.org/ots https://opentrafficsim.org/docs/xsd/1.00.00/ots-network.xsd">

  <DEFINITIONS>

    <GLOBAL />

    <GTUTYPE NAME="CAR" />

    <GTU NAME="CAR" GTUTYPE="CAR" LENGTH="UNIF(5,7) m" WIDTH="UNIF(1.7, 2) m"
      MAXSPEED="CONST(120) km/h" />

    <ROADTYPE NAME="ROAD" DEFAULTLANEWIDTH="3m" DEFAULTLANEKEEPING="KEEPLANE" DEFAULTOVERTAKING="NONE">
      <SPEEDLIMIT GTUTYPE="CAR" LEGALSPEEDLIMIT="80km/h"/>
    </ROADTYPE>

    <ROADLAYOUT ID="roadF" LINKTYPE="ROAD">
      <STRIPE TYPE="SOLID"><CENTEROFFSET>-3m</CENTEROFFSET></STRIPE>
      <LANE ID="A1" OFFSET="-1.5m" WIDTH="3m" DIRECTION="FORWARD" />
      <STRIPE TYPE="SOLID" OFFSET="0m" WIDTH="20cm" COLOR="YELLOW" />
      <LANE ID="A2" OFFSET="1.5m" WIDTH="3m" DIRECTION="BACKWARD" />
      <STRIPE TYPE="SOLID" OFFSET="3m" />
    </ROADLAYOUT>

    <ROADLAYOUT ID="roadB" LINKTYPE="ROAD">
      <STRIPE TYPE="SOLID"><CENTEROFFSET>-3m</CENTEROFFSET></STRIPE>
      <LANE ID="A1" OFFSET="-1.5m" WIDTH="3m" DIRECTION="BACKWARD" />
      <STRIPE TYPE="SOLID" OFFSET="0m" WIDTH="20cm" COLOR="YELLOW" />
      <LANE ID="A2" OFFSET="1.5m" WIDTH="3m" DIRECTION="FORWARD" />
      <STRIPE TYPE="SOLID" OFFSET="3m" />
    </ROADLAYOUT>

  </DEFINITIONS>

  <NODE ID="N11" COORDINATE="(0.0, 50.0)" DIRECTION="0 deg" />
  <NODE ID="N12" COORDINATE="(100.0, 50.0)" />
  <NODE ID="N13" COORDINATE="(200.0, 50.0)" />
  <NODE ID="N14" COORDINATE="(300.0, 50.0)" />

  <NODE ID="N21" COORDINATE="(0.0, 100.0)" DIRECTION="0 deg" />
  <NODE ID="N22" COORDINATE="(100.0, 100.0)" />
  <NODE ID="N23" COORDINATE="(200.0, 100.0)" />
  <NODE ID="N24" COORDINATE="(300.0, 100.0)" />

  <NODE ID="N31" COORDINATE="(0.0, 150.0)" DIRECTION="0 deg" />
  <NODE ID="N32" COORDINATE="(100.0, 150.0)" />
  <NODE ID="N33" COORDINATE="(200.0, 150.0)" />
  <NODE ID="N34" COORDINATE="(300.0, 150.0)" />

  <ROUTE NAME="R1F" NODELIST="N11 N12 N13 N14" />
  <ROUTE NAME="R2F" NODELIST="N21 N22 N23 N24" />
  <ROUTE NAME="R3F" NODELIST="N31 N32 N33 N34" />

  <ROUTE NAME="R1B" NODELIST="N14 N13 N12 N11" />
  <ROUTE NAME="R2B" NODELIST="N24 N23 N22 N21" />
  <ROUTE NAME="R3B" NODELIST="N34 N33 N32 N31" />

  <LINK ID="L112" NODESTART="N11" NODEEND="N12" ROADLAYOUT="roadF">
    <STRAIGHT />
    <GENERATOR LANE="A1" POSITION="10m" IAT="EXPO(30) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR" ROUTE="R1F"
      GTUCOLORER="SWITCHABLE" />
    <SINK LANE="A2" POSITION="10m" />
  </LINK>

  <LINK ID="L123" NODESTART="N12" NODEEND="N13" ROADLAYOUT="roadF">
    <STRAIGHT />
  </LINK>

  <LINK ID="L134" NODESTART="N13" NODEEND="N14" ROADLAYOUT="roadF">
    <STRAIGHT />
    <GENERATOR LANE="A2" POSITION="END-10m" IAT="EXPO(30) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR" ROUTE="R1B"
      GTUCOLORER="SWITCHABLE" />
    <SINK LANE="A1" POSITION="END-10m" />
  </LINK>

</NETWORK>
