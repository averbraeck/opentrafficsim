<?xml version="1.0" encoding="UTF-8"?>
<NETWORK xmlns="http://www.opentrafficsim.org/ots-infra" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.opentrafficsim.org/ots-infra ots-infra.xsd">

  <GLOBAL WIDTH="3.6m" SPEED="100km/h" />

  <!-- extent -->
  <!-- seeds -->

  <GTU NAME="BICYCLE" GTUTYPE="BICYCLE" FOLLOWING="IDM" LENGTH="CONST(2) m" WIDTH="CONST(0.5) m" LANECHANGE="ALTRUISTIC"
    MAXSPEED="CONST(25) km/h" />
  <GTU NAME="CAR" GTUTYPE="CAR" FOLLOWING="IDM+" LENGTH="UNIF(5,7) m" WIDTH="UNIF(1.7, 2) m" LANECHANGE="EGOISTIC"
    MAXSPEED="CONST(120) km/h" />
  <GTU NAME="TRUCK" GTUTYPE="TRUCK" FOLLOWING="IDM+" LENGTH="UNIF(16,24) m" WIDTH="UNIF(2.2, 2.7) m" LANECHANGE="ALTRUISTIC"
    MAXSPEED="CONST(100) km/h" />

  <GTUMIX NAME="C60T40">
    <GTU NAME="CAR" WEIGHT="60"></GTU>
    <GTU NAME="TRUCK" WEIGHT="40"></GTU>
  </GTUMIX>

  <GTUMIX NAME="C80T20">
    <GTU NAME="CAR" WEIGHT="80" />
    <GTU NAME="TRUCK" WEIGHT="20" />
  </GTUMIX>

  <COMPATIBILITY>
    <LANETYPE NAME="HIGHWAY" GTULIST="CAR TRUCK" />
    <LANETYPE NAME="NOTRUCK" GTULIST="CAR" />
  </COMPATIBILITY>
  
  <COMPATIBILITY>
    <LANETYPE NAME="BICYCLEPATH" GTULIST="BICYCLE" />        
  </COMPATIBILITY>
  
  <NODE NAME="N1" COORDINATE="(0.0, 0.0)" ANGLE="90" />
  <NODE NAME="N1a" />
  <NODE NAME="N2" />
  <NODE NAME="NE" />
  <NODE NAME="NE2" />

  <ROUTE NAME="CIRCLE" NODELIST="NE2 NE N1 N1a N2 N1" />

  <ROADTYPE NAME="r1">
    <SHOULDER WIDTH="2m" COLOR="GREEN" />
    <STRIPE TYPE="SOLID" />
    <NOTRAFFICLANE WIDTH="2.5m" />
    <STRIPE TYPE="SOLID" />
    <LANE NAME="A1" TYPE="HIGHWAY" OFFSET="-1.8m" WIDTH="3.6m" DIRECTION="FORWARD" SPEED="100km/h" />
    <STRIPE TYPE="SOLID" WIDTH="20cm" COLOR="#FFFFFF" />
    <NOTRAFFICLANE WIDTH="2.5m" />
    <STRIPE TYPE="SOLID" />
    <SHOULDER WIDTH="2m" COLOR="GREEN" />
  </ROADTYPE>

  <ROADTYPE NAME="r2">
    <SHOULDER WIDTH="2m" COLOR="GREEN" />
    <STRIPE TYPE="SOLID" />
    <NOTRAFFICLANE WIDTH="2.5m" />
    <STRIPE TYPE="SOLID" />
    <LANE NAME="A1" TYPE="HIGHWAY" OFFSET="1.8m" WIDTH="3.6m" DIRECTION="FORWARD" SPEED="100km/h" />
    <STRIPE TYPE="DASHED" COLOR="RGB(255,255,255)" />
    <LANE NAME="A2" TYPE="HIGHWAY" WIDTH="3.6m" DIRECTION="FORWARD" SPEED="100km/h" />
    <STRIPE TYPE="SOLID" WIDTH="20cm" COLOR="#FFFFFF" />
    <NOTRAFFICLANE WIDTH="2.5m" />
    <STRIPE TYPE="SOLID" />
    <SHOULDER WIDTH="2m" COLOR="GREEN" />
  </ROADTYPE>

  <ROADTYPE NAME="r3">
    <SHOULDER WIDTH="2m" COLOR="GREEN" />
    <STRIPE TYPE="SOLID" />
    <NOTRAFFICLANE WIDTH="2.5m" />
    <STRIPE TYPE="SOLID" />
    <LANE NAME="A1" TYPE="HIGHWAY" OFFSET="-1.8m" WIDTH="3.6m" DIRECTION="FORWARD" SPEED="100km/h" />
    <STRIPE TYPE="DASHED" COLOR="RGB(255,255,255)" />
    <LANE NAME="A2" TYPE="HIGHWAY" WIDTH="3.6m" DIRECTION="FORWARD" SPEED="100km/h" />
    <STRIPE TYPE="DASHED" COLOR="RGB(255,255,255)" />
    <LANE NAME="A3" TYPE="HIGHWAY" WIDTH="3.6m" DIRECTION="FORWARD" SPEED="100km/h" />
    <STRIPE TYPE="SOLID" WIDTH="20cm" COLOR="#FFFFFF" />
    <NOTRAFFICLANE WIDTH="2.5m" />
    <STRIPE TYPE="SOLID" />
    <SHOULDER WIDTH="2m" COLOR="GREEN" />
  </ROADTYPE>

  <LINK NAME="L1" FROM="N1" TO="N1a" ROADTYPE="r3">
    <ARC RADIUS="1000m" ANGLE="45" DIRECTION="L" />
    <BLOCK LANE="A1" POSITION="98.5%" />
  </LINK>

  <LINK NAME="L1a" FROM="N1a" TO="N2" ROADTYPE="r2">
    <ARC RADIUS="1000m" ANGLE="135" DIRECTION="L" />
  </LINK>

  <LINK NAME="L2" FROM="N2" TO="N1" ROADTYPE="r2">
    <ARC RADIUS="1000m" ANGLE="180" DIRECTION="L" />
  </LINK>

  <LINK NAME="ENTRY" FROM="NE" TO="N1" ROADTYPE="r1">
    <STRAIGHT LENGTH="200m" />
  </LINK>

  <LINK NAME="ENTRY2" FROM="NE2" TO="NE" ROADTYPE="r1">
    <STRAIGHT LENGTH="200m" />
    <LANEOVERRIDE NAME="A1" SPEED="50 km/h" />
    <!-- GENERATOR LANE="A1" IAT="EXPO(30) s" INITIALSPEED="CONST(0.0) km/h" MAXGTU="50" GTUMIX="C80T20" ROUTE="CIRCLE" /-->
    <GENERATOR LANE="A1" IAT="EXPO(30) s" INITIALSPEED="CONST(0.0) km/h" MAXGTU="250" GTU="CAR" ROUTE="CIRCLE" />
  </LINK>

</NETWORK>
