<?xml version="1.0" encoding="UTF-8"?>

<NETWORK xmlns="http://www.opentrafficsim.org/ots" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.opentrafficsim.org/ots http://www.opentrafficsim.org/docs/current/ots-network.xsd">

  <DEFINITIONS>

    <GLOBAL />

    <GTUTYPE NAME="CAR" />
    <GTUTYPE NAME="SCHEDULED_BUS" />

    <GTU NAME="CAR" GTUTYPE="CAR" LENGTH="UNIF(3, 4) m" WIDTH="UNIF(1.7, 2) m" MAXSPEED="CONST(120) km/h" />
    <GTU NAME="BUS1" GTUTYPE="SCHEDULED_BUS" LENGTH="CONST(8) m" WIDTH="CONST(8) m" MAXSPEED="CONST(120) km/h" />
    <GTU NAME="BUS2" GTUTYPE="SCHEDULED_BUS" LENGTH="CONST(12) m" WIDTH="CONST(12) m" MAXSPEED="CONST(120) km/h" />

    <ROADTYPE NAME="URBAN" DEFAULTLANEWIDTH="3.5m" DEFAULTLANEKEEPING="KEEPRIGHT" DEFAULTOVERTAKING="NONE">
      <SPEEDLIMIT GTUTYPE="ALL" LEGALSPEEDLIMIT="50km/h" />
    </ROADTYPE>

    <ROADLAYOUT NAME="1LANE" ROADTYPE="URBAN">
      <SHOULDER WIDTH="2m" OFFSET="-2.75m" COLOR="RGB(0,128,0)" />
      <LANE NAME="LANE" OFFSET="0.0m" WIDTH="3.5m" DIRECTION="FORWARD" />
      <SHOULDER WIDTH="2m" OFFSET="2.25m" COLOR="RGB(0,128,0)" />
    </ROADLAYOUT>
    
    <ROADLAYOUT NAME="2LANE" ROADTYPE="URBAN">
      <SHOULDER WIDTH="2m" OFFSET="6.25m" COLOR="RGB(0,128,0)" />
      <LANE NAME="LEFT" OFFSET="3.5m" WIDTH="3.5m" DIRECTION="FORWARD" />
      <STRIPE OFFSET="1.75m" TYPE="DASHED" />
      <LANE NAME="RIGHT" OFFSET="0.0m" WIDTH="3.5m" DIRECTION="FORWARD" />
      <SHOULDER WIDTH="2m" OFFSET="-2.75m" COLOR="RGB(0,128,0)" />
    </ROADLAYOUT>
    
    <ROADLAYOUT NAME="3LANE" ROADTYPE="URBAN">
      <SHOULDER WIDTH="2m" OFFSET="2.75m" COLOR="RGB(0,128,0)" />
      <LANE NAME="LEFT" OFFSET="0.0m" WIDTH="3.5m" DIRECTION="FORWARD" />
      <STRIPE OFFSET="-1.75m" TYPE="DASHED" />
      <LANE NAME="MIDDLE" OFFSET="-3.5m" WIDTH="3.5m" DIRECTION="FORWARD" />
      <STRIPE OFFSET="-5.25m" TYPE="DASHED" />
      <LANE NAME="RIGHT" OFFSET="-7.0m" WIDTH="3.5m" DIRECTION="FORWARD" />
      <SHOULDER WIDTH="2m" OFFSET="-9.75m" COLOR="RGB(0,128,0)" />
    </ROADLAYOUT>

  </DEFINITIONS>

  <NODE NAME="A" COORDINATE="(0,0)" />
  <NODE NAME="B" COORDINATE="(100,0)" />
  <NODE NAME="B1" COORDINATE="(110,-3.5)" />
  <NODE NAME="B2" COORDINATE="(130,-3.5)" />
  <NODE NAME="C" COORDINATE="(130,0)" />
  <NODE NAME="C1" COORDINATE="(140,-3.5)" />
  <NODE NAME="C2" COORDINATE="(160,-3.5)" />
  <NODE NAME="D" COORDINATE="(140,0)" />
  <NODE NAME="E" COORDINATE="(170,0)" />
  <NODE NAME="F" COORDINATE="(300,0)" />
  <NODE NAME="G" COORDINATE="(450,0)" />
  <NODE NAME="H" COORDINATE="(600,0)" />

  <ROUTE NODELIST="A B C D E F G H" NAME="CAR" />
  <ROUTE NODELIST="A B B1 B2 D E F G H" NAME="BUS1" />
  <ROUTE NODELIST="A B C C1 C2 E F G H" NAME="BUS2" />

  <LINK NAME="AB" NODESTART="A" NODEEND="B" ROADLAYOUT="1LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="BC" NODESTART="B" NODEEND="C" ROADLAYOUT="1LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="CD" NODESTART="C" NODEEND="D" ROADLAYOUT="1LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="DE" NODESTART="D" NODEEND="E" ROADLAYOUT="1LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="EF" NODESTART="E" NODEEND="F" ROADLAYOUT="1LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="FG" NODESTART="F" NODEEND="G" ROADLAYOUT="2LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="GH" NODESTART="G" NODEEND="H" ROADLAYOUT="3LANE">
    <STRAIGHT />
    <SINK POSITION="END-20m" LANE="LEFT" />
    <SINK POSITION="END-20m" LANE="MIDDLE" />
    <SINK POSITION="END-20m" LANE="RIGHT" />
  </LINK>
  
  <LINK NAME="BB1" NODESTART="B" NODEEND="B1" ROADLAYOUT="1LANE">
    <BEZIER />
  </LINK>
  
  <LINK NAME="B1B2" NODESTART="B1" NODEEND="B2" ROADLAYOUT="1LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="B2D" NODESTART="B2" NODEEND="D" ROADLAYOUT="1LANE" PRIORITY="BUS_STOP">
    <BEZIER />
  </LINK>
  
  <LINK NAME="CC1" NODESTART="C" NODEEND="C1" ROADLAYOUT="1LANE">
    <BEZIER />
  </LINK>
  
  <LINK NAME="C1C2" NODESTART="C1" NODEEND="C2" ROADLAYOUT="1LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="C2E" NODESTART="C2" NODEEND="E" ROADLAYOUT="1LANE" PRIORITY="BUS_STOP">
    <BEZIER />
  </LINK>

</NETWORK>
    