<?xml version="1.0" encoding="UTF-8"?>

<NETWORK xmlns="http://www.opentrafficsim.org/ots" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.opentrafficsim.org/ots https://opentrafficsim.org/docs/xsd/1.00.00/ots-network.xsd">

  <DEFINITIONS>

    <GLOBAL />

    <GTUTYPE NAME="CAR" />
    <GTUTYPE NAME="SCHEDULED_BUS" />

    <GTU NAME="CAR" GTUTYPE="CAR" LENGTH="UNIF(3, 4) m" WIDTH="UNIF(1.7, 2) m" MAXSPEED="CONST(120) km/h" />
    <GTU NAME="BUS1" GTUTYPE="SCHEDULED_BUS" LENGTH="CONST(8) m" WIDTH="CONST(8) m" MAXSPEED="CONST(120) km/h" />
    <GTU NAME="BUS2" GTUTYPE="SCHEDULED_BUS" LENGTH="CONST(12) m" WIDTH="CONST(12) m" MAXSPEED="CONST(120) km/h" />

    <ROADTYPE NAME="URBAN" DEFAULTLANEWIDTH="3.5m" DEFAULTLANEKEEPING="KEEPRIGHT" DEFAULTOVERTAKING="NONE">
      <SPEEDLIMIT GTUTYPE="ALL" LEGALSPEEDLIMIT="50km/h" />
    </ROADTYPE>

    <ROADLAYOUT NAME="SHOULDER" ROADTYPE="URBAN">
      <SHOULDER WIDTH="2m" OFFSET="-2.75m" COLOR="RGB(0,128,0)" />
      <SHOULDER OFFSET="0.0m" WIDTH="3.5m" COLOR="RGB(192,192,192)" />
    </ROADLAYOUT>

    <ROADLAYOUT NAME="1LANE" ROADTYPE="URBAN">
      <SHOULDER WIDTH="2m" OFFSET="-2.75m" COLOR="RGB(0,128,0)" />
      <LANE NAME="LANE" OFFSET="0.0m" WIDTH="3.5m" DIRECTION="FORWARD" />
      <SHOULDER WIDTH="2m" OFFSET="2.25m" COLOR="RGB(0,128,0)" />
    </ROADLAYOUT>
    
    <ROADLAYOUT NAME="2LANE" ROADTYPE="URBAN">
      <SHOULDER WIDTH="2m" OFFSET="6.25m" COLOR="RGB(0,128,0)" />
      <LANE NAME="LEFT" OFFSET="3.5m" WIDTH="3.5m" DIRECTION="FORWARD" />
      <STRIPE OFFSET="1.75m" TYPE="DASHED" />
      <LANE NAME="RIGHT" OFFSET="0.0m" WIDTH="3.5m" DIRECTION="FORWARD" />
      <SHOULDER WIDTH="2m" OFFSET="-2.75m" COLOR="RGB(0,128,0)" />
    </ROADLAYOUT>
    
    <ROADLAYOUT NAME="3LANE" ROADTYPE="URBAN">
      <SHOULDER WIDTH="2m" OFFSET="2.75m" COLOR="RGB(0,128,0)" />
      <LANE NAME="LEFT" OFFSET="0.0m" WIDTH="3.5m" DIRECTION="FORWARD" />
      <STRIPE OFFSET="-1.75m" TYPE="DASHED" />
      <LANE NAME="MIDDLE" OFFSET="-3.5m" WIDTH="3.5m" DIRECTION="FORWARD" />
      <STRIPE OFFSET="-5.25m" TYPE="DASHED" />
      <LANE NAME="RIGHT" OFFSET="-7.0m" WIDTH="3.5m" DIRECTION="FORWARD" />
      <SHOULDER WIDTH="2m" OFFSET="-9.75m" COLOR="RGB(0,128,0)" />
    </ROADLAYOUT>

  </DEFINITIONS>

  <NODE NAME="A" COORDINATE="(0,0)" />
  <NODE NAME="B" COORDINATE="(100,0)" />
  <NODE NAME="B1" COORDINATE="(110,-3.5)" />
  <NODE NAME="B2" COORDINATE="(130,-3.5)" />
  <NODE NAME="C" COORDINATE="(130,0)" />
  <NODE NAME="C1" COORDINATE="(140,-3.5)" />
  <NODE NAME="C2" COORDINATE="(160,-3.5)" />
  <NODE NAME="D" COORDINATE="(140,0)" />
  <NODE NAME="E" COORDINATE="(170,0)" />
  <NODE NAME="F" COORDINATE="(300,0)" />
  <NODE NAME="G" COORDINATE="(450,0)" />
  <NODE NAME="H" COORDINATE="(550,0)" />
  <NODE NAME="I" COORDINATE="(600,-3.5)" DIRECTION="0deg" />
  <NODE NAME="I1" COORDINATE="(610,-8.5)" />
  <NODE NAME="I2" COORDINATE="(630,-8.5)" />
  <NODE NAME="J" COORDINATE="(640,-3.5)" />
  <NODE NAME="K" COORDINATE="(670,-3.5)" />
  <NODE NAME="K1" COORDINATE="(680,-7.0)" DIRECTION="0deg" />
  <NODE NAME="K2" COORDINATE="(700,-7.0)" DIRECTION="0deg" />
  <NODE NAME="K3" COORDINATE="(709,-7.0)" />
  <NODE NAME="L" COORDINATE="(710,-3.5)" DIRECTION="0deg" />
  <NODE NAME="M" COORDINATE="(760,-3.5)" />
  <NODE NAME="N" COORDINATE="(800,-3.5)" />
  <NODE NAME="O" COORDINATE="(800,-8.5)" DIRECTION="0deg" />

  <LINK NAME="AB" NODESTART="A" NODEEND="B" ROADLAYOUT="1LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="BC" NODESTART="B" NODEEND="C" ROADLAYOUT="1LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="CD" NODESTART="C" NODEEND="D" ROADLAYOUT="1LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="DE" NODESTART="D" NODEEND="E" ROADLAYOUT="1LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="EF" NODESTART="E" NODEEND="F" ROADLAYOUT="1LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="FG" NODESTART="F" NODEEND="G" ROADLAYOUT="2LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="GH" NODESTART="G" NODEEND="H" ROADLAYOUT="3LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="HI" NODESTART="H" NODEEND="I" ROADLAYOUT="2LANE" OFFSETSTART="-3.5m">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="IJ" NODESTART="I" NODEEND="J" ROADLAYOUT="2LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="JK" NODESTART="J" NODEEND="K" ROADLAYOUT="2LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="KL" NODESTART="K" NODEEND="L" ROADLAYOUT="2LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="LM" NODESTART="L" NODEEND="M" ROADLAYOUT="3LANE" OFFSETEND="3.5m" OFFSETSTART="3.5m">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="MN" NODESTART="M" NODEEND="N" ROADLAYOUT="2LANE">
    <STRAIGHT />
    <SINK POSITION="END-20m" LANE="LEFT" />
    <SINK POSITION="END-20m" LANE="RIGHT" />
  </LINK>
  
  <LINK NAME="MO" NODESTART="M" NODEEND="O" ROADLAYOUT="1LANE" OFFSETSTART="-3.5m">
    <BEZIER />
    <SINK POSITION="END-20m" LANE="LANE" />
  </LINK>
  
  <LINK NAME="BB1" NODESTART="B" NODEEND="B1" ROADLAYOUT="1LANE">
    <BEZIER />
  </LINK>
  
  <LINK NAME="B1B2" NODESTART="B1" NODEEND="B2" ROADLAYOUT="1LANE" PRIORITY="BUS_STOP">
    <STRAIGHT />
    <LANEOVERRIDE LANE="LANE" COLOR="RGB(160,160,160)" />
  </LINK>
  
  <LINK NAME="B2D" NODESTART="B2" NODEEND="D" ROADLAYOUT="1LANE" PRIORITY="BUS_STOP">
    <BEZIER />
  </LINK>
  
  <LINK NAME="B2C1fill" NODESTART="B2" NODEEND="C1" ROADLAYOUT="SHOULDER"> <!-- for esthetics only -->
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="CC1" NODESTART="C" NODEEND="C1" ROADLAYOUT="1LANE">
    <BEZIER />
  </LINK>
  
  <LINK NAME="C1C2" NODESTART="C1" NODEEND="C2" ROADLAYOUT="1LANE" PRIORITY="BUS_STOP">
    <STRAIGHT />
    <LANEOVERRIDE LANE="LANE" COLOR="RGB(160,160,160)" />
  </LINK>
  
  <LINK NAME="C2E" NODESTART="C2" NODEEND="E" ROADLAYOUT="1LANE" PRIORITY="BUS_STOP">
    <BEZIER />
  </LINK>
  
  <LINK NAME="II1" NODESTART="I" NODEEND="I1" ROADLAYOUT="1LANE">
    <BEZIER />
  </LINK>
  
  <LINK NAME="I1I2" NODESTART="I1" NODEEND="I2" ROADLAYOUT="1LANE" PRIORITY="BUS_STOP">
    <STRAIGHT />
    <LANEOVERRIDE LANE="LANE" COLOR="RGB(160,160,160)" />
  </LINK>
  
  <LINK NAME="I2J" NODESTART="I2" NODEEND="J" ROADLAYOUT="1LANE" PRIORITY="BUS_STOP">
    <BEZIER />
  </LINK>
  
  <LINK NAME="KK1" NODESTART="K" NODEEND="K1" ROADLAYOUT="1LANE">
    <BEZIER />
  </LINK>
  
  <LINK NAME="K1K2" NODESTART="K1" NODEEND="K2" ROADLAYOUT="1LANE" PRIORITY="BUS_STOP">
    <STRAIGHT />
    <LANEOVERRIDE LANE="LANE" COLOR="RGB(160,160,160)" />
  </LINK>
  
  <LINK NAME="K2L" NODESTART="K2" NODEEND="L" ROADLAYOUT="1LANE" PRIORITY="BUS_STOP">
    <BEZIER />
  </LINK>
  
  <LINK NAME="K2K3" NODESTART="K2" NODEEND="K3" ROADLAYOUT="1LANE">
    <STRAIGHT />
  </LINK>
  
  <LINK NAME="K3L" NODESTART="K3" NODEEND="L" ROADLAYOUT="1LANE" OFFSETEND="-3.5m">
    <STRAIGHT />
  </LINK>

</NETWORK>
    