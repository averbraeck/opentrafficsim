<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE xml>
<NETWORK xmlns="http://www.opentrafficsim.org/ots" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.opentrafficsim.org/ots http://www.opentrafficsim.org/docs/current/ots-network.xsd">

  <DEFINITIONS>

    <GLOBAL />

    <!--GTUTYPE NAME="CAR" /> <GTUTYPE NAME="TRUCK" /> <GTU NAME="CAR" GTUTYPE="CAR" LENGTH="UNIF(4,7) m" WIDTH="UNIF(1.7, 2) m" 
      MAXSPEED="CONST(120) km/h" /> <GTU NAME="TRUCK" GTUTYPE="TRUCK" LENGTH="UNIF(16,24) m" WIDTH="UNIF(2.2, 2.7) m" MAXSPEED="CONST(100) 
      km/h" /> <GTUMIX NAME="C60T40"> <GTU NAME="CAR" WEIGHT="60"></GTU> <GTU NAME="TRUCK" WEIGHT="40"></GTU> </GTUMIX> <GTUMIX NAME="C80T20"> 
      <GTU NAME="CAR" WEIGHT="80" /> <GTU NAME="TRUCK" WEIGHT="20" /> </GTUMIX -->

    <ROADTYPE NAME="HIGHWAY" DEFAULTLANEWIDTH="3.6m" DEFAULTLANEKEEPING="KEEPRIGHT"
      DEFAULTOVERTAKING="LEFTSET([CAR, TRUCK] OVERTAKE [ALL]) RIGHTSPEED(40 km/h)">
      <SPEEDLIMIT GTUTYPE="CAR" LEGALSPEEDLIMIT="120km/h" />
      <SPEEDLIMIT GTUTYPE="TRUCK" LEGALSPEEDLIMIT="90km/h" />
    </ROADTYPE>

    <ROADTYPE NAME="STREET" DEFAULTLANEWIDTH="3.6m" DEFAULTLANEKEEPING="KEEPRIGHT"
      DEFAULTOVERTAKING="LEFTSET([CAR, TRUCK] OVERTAKE [ALL]) RIGHTSPEED(50 km/h)">
      <SPEEDLIMIT GTUTYPE="CAR" LEGALSPEEDLIMIT="50km/h" />
      <SPEEDLIMIT GTUTYPE="TRUCK" LEGALSPEEDLIMIT="50km/h" />
    </ROADTYPE>

    <LANETYPE NAME="NOTRUCK">
      <SPEEDLIMIT GTUTYPE="CAR" LEGALSPEEDLIMIT="120km/h" />
    </LANETYPE>

    <ROADLAYOUT NAME="2LaneHighway" ROADTYPE="HIGHWAY">
      <SHOULDER OFFSET="8.5m" WIDTH="3m" COLOR="#008000" />
      <STRIPE TYPE="SOLID" OFFSET="7.2m" WIDTH="20cm" COLOR="#FFFFFF" />
      <LANE NAME="FORWARD1" OFFSET="5.4m" WIDTH="3.6m" DIRECTION="FORWARD" />
      <STRIPE TYPE="DASHED" OFFSET="3.6m" WIDTH="20cm" COLOR="#FFFFFF" />
      <LANE NAME="FORWARD2" OFFSET="1.8m" WIDTH="3.6m" DIRECTION="FORWARD" />
      <STRIPE TYPE="SOLID" OFFSET="0m" WIDTH="20cm" COLOR="#FFFFFF" />
      <SHOULDER OFFSET="-1.5m" WIDTH="3m" COLOR="#008000" />
    </ROADLAYOUT>
    
    <ROADLAYOUT NAME="2LaneHighwayNoLc" ROADTYPE="HIGHWAY">
      <SHOULDER OFFSET="8.5m" WIDTH="3m" COLOR="#008000" />
      <STRIPE TYPE="SOLID" OFFSET="7.2m" WIDTH="20cm" COLOR="#FFFFFF" />
      <LANE NAME="FORWARD1" OFFSET="5.4m" WIDTH="3.6m" DIRECTION="FORWARD" />
      <STRIPE TYPE="SOLID" OFFSET="3.6m" WIDTH="20cm" COLOR="#FFFFFF" />
      <LANE NAME="FORWARD2" OFFSET="1.8m" WIDTH="3.6m" DIRECTION="FORWARD" />
      <STRIPE TYPE="SOLID" OFFSET="0m" WIDTH="20cm" COLOR="#FFFFFF" />
      <SHOULDER OFFSET="-1.5m" WIDTH="3m" COLOR="#008000" />
    </ROADLAYOUT>

    <ROADLAYOUT NAME="3LaneHighway" ROADTYPE="HIGHWAY">
      <SHOULDER OFFSET="12.1m" WIDTH="3m" COLOR="#008000" />
      <STRIPE TYPE="SOLID" OFFSET="10.8m" WIDTH="20cm" COLOR="#FFFFFF" />
      <LANE NAME="FORWARD1" OFFSET="9.0m" WIDTH="3.6m" DIRECTION="FORWARD" />
      <STRIPE TYPE="DASHED" OFFSET="7.2m" WIDTH="20cm" COLOR="#FFFFFF" />
      <LANE NAME="FORWARD2" OFFSET="5.4m" WIDTH="3.6m" DIRECTION="FORWARD" />
      <STRIPE TYPE="DASHED" OFFSET="3.6m" WIDTH="20cm" COLOR="#FFFFFF" />
      <LANE NAME="FORWARD3" OFFSET="1.8m" WIDTH="3.6m" DIRECTION="FORWARD" />
      <STRIPE TYPE="SOLID" OFFSET="0m" WIDTH="20cm" COLOR="#FFFFFF" />
      <SHOULDER OFFSET="-1.5m" WIDTH="3m" COLOR="#008000" />
    </ROADLAYOUT>

    <ROADLAYOUT NAME="4LaneHighway" ROADTYPE="HIGHWAY">
      <SHOULDER OFFSET="15.7m" WIDTH="3m" COLOR="#008000" />
      <STRIPE TYPE="SOLID" OFFSET="14.4m" WIDTH="20cm" COLOR="#FFFFFF" />
      <LANE NAME="FORWARD1" OFFSET="12.6m" WIDTH="3.6m" DIRECTION="FORWARD" />
      <STRIPE TYPE="DASHED" OFFSET="10.8m" WIDTH="20cm" COLOR="#FFFFFF" />
      <LANE NAME="FORWARD2" OFFSET="9.0m" WIDTH="3.6m" DIRECTION="FORWARD" />
      <STRIPE TYPE="DASHED" OFFSET="7.2m" WIDTH="20cm" COLOR="#FFFFFF" />
      <LANE NAME="FORWARD3" OFFSET="5.4m" WIDTH="3.6m" DIRECTION="FORWARD" />
      <STRIPE TYPE="DASHED" OFFSET="3.6m" WIDTH="20cm" COLOR="#FFFFFF" />
      <LANE NAME="FORWARD4" OFFSET="1.8m" WIDTH="3.6m" DIRECTION="FORWARD" />
      <STRIPE TYPE="SOLID" OFFSET="0m" WIDTH="20cm" COLOR="#FFFFFF" />
      <SHOULDER OFFSET="-1.5m" WIDTH="3m" COLOR="#008000" />
    </ROADLAYOUT>

  </DEFINITIONS>

  <NODE NAME="LEFTINPRE" COORDINATE="(0,50)" DIRECTION="0 deg" />
  <NODE NAME="LEFTIN" COORDINATE="(100,50)" DIRECTION="0 deg" />
  <NODE NAME="RIGHTINPRE" COORDINATE="(0,0)" DIRECTION="0 deg" />
  <NODE NAME="RIGHTIN" COORDINATE="(100,0)" DIRECTION="0 deg" />
  <NODE NAME="STARTCONVERGE" COORDINATE="(5000,50)" DIRECTION="0 deg" />
  <NODE NAME="STARTWEAVING" COORDINATE="(6000,0)" DIRECTION="0 deg" />
  <NODE NAME="NARROWING" COORDINATE="(7000,0)" DIRECTION="0 deg" />
  <NODE NAME="EXIT" COORDINATE="(9000,0)" DIRECTION="0 deg" />

  <!--ROUTE NAME="LEFTEND" NODELIST="LEFTIN STARTCONVERGE NARROWING EXIT" /> <ROUTE NAME="RIGHTEND" NODELIST="RIGHTIN NARROWING EXIT" 
    / -->

  <LINK NAME="LEFTINPRE" NODESTART="LEFTINPRE" NODEEND="LEFTIN" ROADLAYOUT="2LaneHighwayNoLc">
    <STRAIGHT />
    <!--GENERATOR LANE="FORWARD1" POSITION="10m" IAT="EXPO(20) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR" ROUTE="LEFTEND" GTUCOLORER="SWITCHABLE" 
      /> <GENERATOR LANE="FORWARD2" POSITION="10m" IAT="EXPO(10) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR" ROUTE="LEFTEND" GTUCOLORER="SWITCHABLE" 
      / -->
  </LINK>
  
  <LINK NAME="LEFTIN" NODESTART="LEFTIN" NODEEND="STARTCONVERGE" ROADLAYOUT="2LaneHighway">
    <STRAIGHT />
  </LINK>

  <LINK NAME="CONVERGE" NODESTART="STARTCONVERGE" NODEEND="STARTWEAVING" ROADLAYOUT="2LaneHighway" OFFSETEND="7.2m">
    <BEZIER />
  </LINK>

  <LINK NAME="RIGHTINPRE" NODESTART="RIGHTINPRE" NODEEND="RIGHTIN" ROADLAYOUT="2LaneHighwayNoLc">
    <STRAIGHT />
    <!--GENERATOR LANE="FORWARD1" POSITION="10m" IAT="EXPO(20) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR" ROUTE="RIGHTEND" GTUCOLORER="SWITCHABLE" 
      /> <GENERATOR LANE="FORWARD2" POSITION="10m" IAT="EXPO(10) s" INITIALSPEED="CONST(0.0) km/h" GTU="CAR" ROUTE="RIGHTEND" GTUCOLORER="SWITCHABLE" 
      / -->
  </LINK>
  
  <LINK NAME="RIGHTIN" NODESTART="RIGHTIN" NODEEND="STARTWEAVING" ROADLAYOUT="2LaneHighway">
    <STRAIGHT />
  </LINK>

  <LINK NAME="WEAVING" NODESTART="STARTWEAVING" NODEEND="NARROWING" ROADLAYOUT="4LaneHighway">
    <STRAIGHT />
  </LINK>

  <LINK NAME="END" NODESTART="NARROWING" NODEEND="EXIT" ROADLAYOUT="3LaneHighway">
    <STRAIGHT />
    <SINK POSITION="1950m" LANE="FORWARD1" />
    <SINK POSITION="1950m" LANE="FORWARD2" />
    <SINK POSITION="1950m" LANE="FORWARD3" />
  </LINK>

</NETWORK>